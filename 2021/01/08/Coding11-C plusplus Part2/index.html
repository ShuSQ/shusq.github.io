<!DOCTYPE html>
<html lang="en">
    <!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  
  <title>Coding11 - C++ Primer Part2 - Shu-Creative Computing</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
    <link rel='manifest' href='/manifest.json'>
  

  
<link rel="stylesheet" href="/css/var.css">

  
<link rel="stylesheet" href="/css/main.css">

  
<link rel="stylesheet" href="/css/cursor.css">

  
<link rel="stylesheet" href="/css/typography.css">

  
<link rel="stylesheet" href="/css/components.css">

  
<link rel="stylesheet" href="/css/nav.css">

  
<link rel="stylesheet" href="/css/paginator.css">

  
<link rel="stylesheet" href="/css/footer.css">

  
<link rel="stylesheet" href="/css/post-list.css">

  
  
  
<link rel="stylesheet" href="/css/post.css">

  

<meta name="generator" content="Hexo 5.2.0"></head>


    <body>
        <nav id="theme-nav">
    <div class="inner">
        <a class="title" href="/">Shu&#39;s Blog</a>
        <div class="nav-arrow"></div>
        <div class="nav-items">
            <a class="nav-item nav-item-home" href="/">Home</a>
            
            
            <a class="nav-item" href="/categories/essays">Thinking</a>
            
            
            
            <a class="nav-item" href="/categories/pcomp">Pcomp&amp;AVCE</a>
            
            
            
            <a class="nav-item" href="/categories/coding">Coding</a>
            
            
            
            <a class="nav-item" href="/categories/portfolio">Portfolio</a>
            
            
            
            <a class="nav-item" href="/contact">About</a>
            
            
            
            <a class="nav-item nav-item-github nav-item-icon" href="https://github.com/ShuSQ" target="_blank">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-codepen nav-item-icon" href="https://codepen.io/shusq" target="_blank">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-patreon nav-item-icon" href="https://www.instagram.com/cheese_shu/" target="_blank">&nbsp;</a>
            
            
        </div>
    </div>
</nav>
        <article class="post">
    <div class="meta">
        
        <div class="date" id="date">
            
            <span>January</span>
            
            
            
            
            
            
            
            
            
            
            
            
            <span>8,</span>
            <span>2021</span>
        </div>
        

        <h2 class="title">Coding11 - C++ Primer Part2</h2>
    </div>

    <div class="divider"></div>

    <div class="content">
        <blockquote>
<p>This is a C++ note for my own review and study.</p>
</blockquote>
<h3 id="十一：C-字符串"><a href="#十一：C-字符串" class="headerlink" title="十一：C++字符串"></a>十一：C++字符串</h3><p>字符串是字符的集合。C++語言中通常使用兩種類型的字符串：</p>
<ul>
<li>做為字符串類的字符串 (The Standard C++ Library string class)</li>
<li>C字符串 (C-style Strings)</li>
</ul>
<p><strong>C-strings</strong></p>
<p>在C語言中，字符集合以數組的形式存儲，C++也支持這樣形式，所以稱為C-strings。</p>
<p>C-strings是以<code>char</code>空字符結尾類型的數組，即<code>\0</code>（空字符的ASCII值為0）。</p>
<p><strong>如何定義一個C-strings</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str [] = <span class="string">&quot; C ++&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>在上面的代碼中<code>str</code>是一個字符串，包含了4個字符，<code>C++</code>有3個字符，空字符<code>\0</code>會自動添加到字符串末尾。</p>
<p><strong>定義字符串的替代方法</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str [<span class="number">4</span>] = <span class="string">&quot; C ++&quot;</span>;</span><br><span class="line">char str [] = &#123;&#x27;C&#x27;, &#x27;+&#x27;, &#x27;+&#x27;, &#x27;\ 0&#x27;&#125;;</span><br><span class="line">char str [4] = &#123;&#x27;C&#x27;, &#x27;+&#x27;, &#x27;+&#x27;, &#x27;\ 0&#x27;&#125;;</span><br></pre></td></tr></table></figure>

<p>像數組一樣，我們不必為strings分配所有的空間：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str [<span class="number">100</span>] = <span class="string">&quot; C ++&quot;</span>;</span><br></pre></td></tr></table></figure>

<h5 id="使用C-strings讀取單詞"><a href="#使用C-strings讀取單詞" class="headerlink" title="使用C++ strings讀取單詞"></a>使用C++ strings讀取單詞</h5><p>C++顯示用戶輸入的字符串：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iosteam&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">char</span> str[<span class="number">100</span>];</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter a string: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; str;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;You entered: &quot;</span> &lt;&lt; str &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\nEnter another string: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; str;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;You entered: &quot;</span> &lt;&lt; sr &lt;, <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Enter a string: C++</span></span><br><span class="line"><span class="comment">   You entered: C++</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   Enter another string: Programming is fun.</span></span><br><span class="line"><span class="comment">   You entered: Programming</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>在第二個結果中只會顯示“Programming”，是因為提取運算符號&gt;&gt;與<code>scanf()</code>一樣，認為空格是終止字符。</p>
<h5 id="示例二：C-strings讀取一行文本"><a href="#示例二：C-strings讀取一行文本" class="headerlink" title="示例二：C++ strings讀取一行文本"></a>示例二：C++ strings讀取一行文本</h5><p>C++讀取並顯示用戶輸入的整行。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">char</span> str[<span class="number">100</span>];</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter a string: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span>.get(str, <span class="number">100</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;You entered: &quot;</span> &lt;&lt; str &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Enter a string: Programming is fun.</span></span><br><span class="line"><span class="comment">   You entered: Programming is fun.</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>為了讀取包含空格的文本，<code>cin.get</code>函數可以使用，它帶有2個參數。</p>
<p>第一個參數是字符串的名稱（字符串第一個元素的地址），第二個參數是數組的最大size。</p>
<p><strong>Strings對象</strong></p>
<p>在C++中，你還可以創建一個用於保存字符串的字符串對象。</p>
<p>與char數組不同，字符串對象沒有固定的長度，可以按需求進行擴展。</p>
<h5 id="示例三：使用字符串數據類型的C-strings"><a href="#示例三：使用字符串數據類型的C-strings" class="headerlink" title="示例三：使用字符串數據類型的C++ strings"></a>示例三：使用字符串數據類型的C++ strings</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// Declaring a string object</span></span><br><span class="line">  <span class="built_in">string</span> str;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter a string: &quot;</span>;</span><br><span class="line">  getline(<span class="built_in">cin</span>, str);</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;You entered: &quot;</span> &lt;&lt; str &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Enter a string: Programming is fun.</span></span><br><span class="line"><span class="comment">   You entered: Programming is fun.</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>我們可以通過輸入文本行的<code>getline()</code>方法來控制輸入，<code>getline()</code>函數將輸入流cin作為第一個參數。</p>
<h5 id="將strings傳遞給函數"><a href="#將strings傳遞給函數" class="headerlink" title="將strings傳遞給函數"></a>將strings傳遞給函數</h5><p>字符串也可以通過類似數組的方式傳遞給函數。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(<span class="keyword">char</span> *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(<span class="built_in">string</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">string</span> str1;</span><br><span class="line">  <span class="keyword">char</span> str[<span class="number">100</span>];</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter a string: &quot;</span>;</span><br><span class="line">  getline(<span class="built_in">cin</span>, str1);</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter another string: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span>.get(str, <span class="number">100</span>, <span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">  display(str1);</span><br><span class="line">  dislay(str);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(<span class="keyword">char</span> s[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Entered char array is: &quot;</span> &lt;&lt; s &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(<span class="built_in">string</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Entered string is: &quot;</span> &lt;&lt; s &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Enter a string:  Programming is fun.</span></span><br><span class="line"><span class="comment">   Enter another string:  Really?</span></span><br><span class="line"><span class="comment">   Entered string is: Programming is fun.</span></span><br><span class="line"><span class="comment">   Entered char array is: Really?</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>第一個函數<code>display()</code>將char數組作為參數傳遞，第二個函數<code>display()</code>將string作為參數傳遞。</p>
<hr>
<h3 id="十二：C-結構"><a href="#十二：C-結構" class="headerlink" title="十二：C++結構"></a>十二：C++結構</h3><p>結構是一個單一名稱下不同數據類型的變量的集合，例如關於某人的信息可以是不同的變量組成：<code>name1, citNo1, salary1, name2, citNo2, salary2</code>。</p>
<p>這些變量看起來會有些混亂，所以最好的方法是通過一個<code>person</code>來將信息整理起來，這樣代碼也更加簡潔，易讀和高效。而這樣的一個<code>person</code>就是一個結構。</p>
<h5 id="如何在C-中聲明結構？"><a href="#如何在C-中聲明結構？" class="headerlink" title="如何在C++中聲明結構？"></a>如何在C++中聲明結構？</h5><p><code>struct</code>關鍵詞是定義結構的方法。在{}內會包括多個變量：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> name[<span class="number">50</span>];</span><br><span class="line">	<span class="keyword">int</span> age;</span><br><span class="line">	<span class="keyword">float</span> salary;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>這就是一個結構<code>person</code>定義含有了三個元素：<code>name</code>, <code>age</code>, and <code>salary</code>。</p>
<p>結構被創建時，不會被分配任何內存。</p>
<p>結構定義僅指定結構變量在定義時具有的屬性。</p>
<blockquote>
<p><strong>NOTE</strong></p>
<p>需要再結尾以 ‘;’ 結束聲明</p>
</blockquote>
<h5 id="如何定義結構變量？"><a href="#如何定義結構變量？" class="headerlink" title="如何定義結構變量？"></a>如何定義結構變量？</h5><p>當你聲明了結構<code>person</code>之後，你可以定義一個結構變量，例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person bill;</span><br></pre></td></tr></table></figure>

<p>一個結構變量<code>bill</code>被定義了，是類型結構<code>Person</code>。</p>
<p>當結構變量被定義了，所需的內存才會被編譯器分配。考慮到你使用32-bit或64-bit的系統，<code>float</code>是4字節，<code>int</code>是4字節，<code>char</code>是1字節。所以我們這個<code>bill</code>佔據58字節。</p>
<h5 id="如何訪問結構的元素？"><a href="#如何訪問結構的元素？" class="headerlink" title="如何訪問結構的元素？"></a>如何訪問結構的元素？</h5><p>我們可以可以通過dot(.)方法，如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bill.age = <span class="number">50</span>;</span><br></pre></td></tr></table></figure>

<h5 id="C-結構示例"><a href="#C-結構示例" class="headerlink" title="C++結構示例"></a>C++結構示例</h5><p>在C++中將數據分配給結構變量並顯示他們：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="keyword">char</span> name[<span class="number">50</span>];</span><br><span class="line">  <span class="keyword">int</span> age;</span><br><span class="line">  <span class="keyword">float</span> salary;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Person p1;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter Full name: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span>.get(p1.name, <span class="number">50</span>);</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter age: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; p1.age;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter salary: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; p1.salary;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\nDisplaying Information.&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Name: &quot;</span> &lt;&lt; p1.name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Age: &quot;</span> &lt;&lt; p1.age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Salary: &quot;</span> &lt;&lt; p1.salary;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Enter Full name: Magdalena Dankova</span></span><br><span class="line"><span class="comment">   Enter age: 27</span></span><br><span class="line"><span class="comment">   Enter salary: 1024.4</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   Displaying Information.</span></span><br><span class="line"><span class="comment">   Name: Magdalena Dankova</span></span><br><span class="line"><span class="comment">   Age: 27</span></span><br><span class="line"><span class="comment">   Salary: 1024.4</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<hr>
<h3 id="十三：C-結構與函數"><a href="#十三：C-結構與函數" class="headerlink" title="十三：C++結構與函數"></a>十三：C++結構與函數</h3><p>將結構傳遞給C++中的函數，我們可以通過下面幾個例子來了解：</p>
<h5 id="示例一：C-結構與函數"><a href="#示例一：C-結構與函數" class="headerlink" title="示例一：C++結構與函數"></a>示例一：C++結構與函數</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="keyword">char</span> name[<span class="number">50</span>];</span><br><span class="line">  <span class="keyword">int</span> age;</span><br><span class="line">  <span class="keyword">float</span> salary;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">displayData</span><span class="params">(Person)</span></span>; <span class="comment">// Function declaration</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Person p;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter Full name: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span>.get(p.name, <span class="number">50</span>);</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter age: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; p.age;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter salary: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; p.salary;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// Function call with structure variable as an argument</span></span><br><span class="line">  displayData(p);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">displayData</span><span class="params">(Person p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\nDislaying Information.&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Name: &quot;</span> &lt;&lt; p.name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Age: &quot;</span> &lt;&lt; p.age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Salary: &quot;</span> &lt;&lt; p.salary;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Enter Full name: Bill Jobs</span></span><br><span class="line"><span class="comment">   Enter age: 55</span></span><br><span class="line"><span class="comment">   Enter salary: 34233.4</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   Displaying Information.</span></span><br><span class="line"><span class="comment">   Name: Bill Jobs</span></span><br><span class="line"><span class="comment">   Age: 55</span></span><br><span class="line"><span class="comment">   Salary: 34233.4</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>在這個程序中，用戶被要求輸入<code>name</code>，<code>age</code>，<code>salary</code>來存儲在結構p中。</p>
<p>然後結構p把數據傳遞給了函數<code>displayData(p) </code>。</p>
<h5 id="從C-函數返回結構"><a href="#從C-函數返回結構" class="headerlink" title="從C++函數返回結構"></a>從C++函數返回結構</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="keyword">char</span> name[<span class="number">50</span>];</span><br><span class="line">  <span class="keyword">int</span> age;</span><br><span class="line">  <span class="keyword">float</span> salary;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">getData</span><span class="params">(Person)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">displayData</span><span class="params">(Person)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Person p;</span><br><span class="line">  </span><br><span class="line">  p = getData(p);</span><br><span class="line">  displayData(p);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">getData</span><span class="params">(Person p)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter Full name: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span>.get(p.name, <span class="number">50</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter age: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; p.age;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter salary: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; p.salary;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">displayData</span><span class="params">(Person p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\nDislaying Information.&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Name: &quot;</span> &lt;&lt; p.name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Age: &quot;</span> &lt;&lt; p.age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Salary: &quot;</span> &lt;&lt; p.salary;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在這裡，首先聲明結構Person，再通過 getData()來定義結構，最後通過displayData()打印數據。</span></span><br></pre></td></tr></table></figure>



<hr>
<h3 id="十四：C-結構指針"><a href="#十四：C-結構指針" class="headerlink" title="十四：C++結構指針"></a>十四：C++結構指針</h3><p>一個指針變量不僅可以通過本地類型(<code>int</code>, <code>float</code>, <code>double</code>etc.)創建，也可以通過用戶定義的類型創建，例如結構。</p>
<p>下面是一個你可以創建結構指針的例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iosteram&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">temp</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">float</span> f;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	temp *ptr;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>這個程序船艦了一個結構<code>temp</code>的<code>ptr</code>指針。</p>
<h5 id="結構指針示例"><a href="#結構指針示例" class="headerlink" title="結構指針示例"></a>結構指針示例</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Distance</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="keyword">int</span> feet;</span><br><span class="line">  <span class="keyword">float</span> inch;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Distance *ptr, d;</span><br><span class="line">  </span><br><span class="line">  ptr = &amp;d;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter feet: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; (*ptr).feet;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter inch: &quot;</span>;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; (*ptr).inch;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Displaying information.&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Distance = &quot;</span> &lt;&lt; (*ptr).feet &lt;&lt; <span class="string">&quot; feet &quot;</span> &lt;&lt; (*ptr).inch &lt;&lt; <span class="string">&quot; inches&quot;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Enter feet: 4</span></span><br><span class="line"><span class="comment">   Enter inch: 3.5</span></span><br><span class="line"><span class="comment">   Displaying information.</span></span><br><span class="line"><span class="comment">   Distance = 4 feet 3.5 inches</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>在這個程序中，指針變量<code>ptr</code>和類型函數<code>Distance</code>的普通變量<code>d</code>被定義。</p>
<p>變量<code>d</code>的地址被存儲在指針變量，<code>ptr</code>指向變量<code>d</code>。然後變量<code>d</code>的函數元素可以被指針訪問了。</p>
<blockquote>
<p><strong>NOTE</strong></p>
<p>因為指針<code>ptr</code>指向了變量<code>d</code>，所以是<code>(*ptr).inch</code>和<code>d.inch</code>是相同的，<code>(*ptr).feet</code>和<code>d.feet</code>也是相同的。</p>
</blockquote>
<p>使用指針訪問函數元素通常還可以被 “-&gt;” 代替：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ptr-&gt;feet is same as (*ptr).feet</span><br><span class="line">ptr-&gt;inch is same as (*ptr).inch</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="十五：C-枚舉（Enumeration）"><a href="#十五：C-枚舉（Enumeration）" class="headerlink" title="十五：C++枚舉（Enumeration）"></a>十五：C++枚舉（Enumeration）</h3><p>枚舉是用戶定義的數據類型，由整數常量組成，定義枚舉需要用到關鍵字enum。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">season</span> &#123;</span> spring, summer, autumn, winter &#125;;</span><br></pre></td></tr></table></figure>

<p>這裡，枚舉的名稱是<code>season</code>, <code>spring</code>,<code>summer</code>和<code>winter</code>是值。</p>
<p>默認的情況下，<code>spring</code>是0，<code>summer</code>是1，依次類推。你可以改變枚舉默認的值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">season</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">spring = <span class="number">0</span>;</span><br><span class="line">summer = <span class="number">4</span>;</span><br><span class="line">autumn = <span class="number">8</span>;</span><br><span class="line">winter = <span class="number">12</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="枚舉類型聲明"><a href="#枚舉類型聲明" class="headerlink" title="枚舉類型聲明"></a>枚舉類型聲明</h5><p>這是創建枚舉變量的方法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">boolean</span> &#123;</span> <span class="literal">false</span>, <span class="literal">true</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// inside function</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">boolean</span> <span class="title">check</span>;</span></span><br></pre></td></tr></table></figure>

<p>這樣，一個變量<code>check</code>的類型<code>enum boolean</code>被創建了。</p>
<p>這是另一個聲明<code>check</code>變量的語法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">boolean</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="literal">false</span>, <span class="literal">true</span></span><br><span class="line">&#125; check;</span><br></pre></td></tr></table></figure>

<h5 id="示例一：枚舉類型"><a href="#示例一：枚舉類型" class="headerlink" title="示例一：枚舉類型"></a>示例一：枚舉類型</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">week</span> &#123;</span> Sunday, Monday, Tuesday, Wednesday, Thursday, Friday, Saturday &#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  week today;</span><br><span class="line">  today = Wednesday;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Day&quot;</span> &lt;&lt; today+<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">	 4</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h5 id="示例二：改變枚舉的默認值"><a href="#示例二：改變枚舉的默認值" class="headerlink" title="示例二：改變枚舉的默認值"></a>示例二：改變枚舉的默認值</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">seasons</span> &#123;</span> spring = <span class="number">34</span>, summer = <span class="number">4</span>, autumn = <span class="number">9</span>, winter = <span class="number">32</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  seasons s;</span><br><span class="line">  </span><br><span class="line">  s = summer;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Summer = &quot;</span>&lt;&lt; s &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">	 4</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h5 id="為什麼C-中會使用枚舉？"><a href="#為什麼C-中會使用枚舉？" class="headerlink" title="為什麼C++中會使用枚舉？"></a>為什麼C++中會使用枚舉？</h5><p>枚舉變量只會從許多可能值中獲取一個（看不懂）：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>include &lt;iostream&gt;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">suit</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  club = <span class="number">0</span>,</span><br><span class="line">  diamonds = <span class="number">10</span>,</span><br><span class="line">  hearts = <span class="number">20</span>,</span><br><span class="line">  spades = <span class="number">3</span></span><br><span class="line">&#125; card;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  card = club;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Size of enum variable &quot;</span> &lt;&lt; <span class="keyword">sizeof</span>(card) &lt;&lt; <span class="string">&quot;bytes.&quot;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">	 Size of enum variable 4 bytes.</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>因為int的大小為4 bytes。</p>
<p>枚舉可以成為好的work with flags。</p>
<p>我們也可以通過結構完成相同的任務，但是枚舉可以提高效率和靈活性。</p>
<h5 id="如何將enum用於flags？"><a href="#如何將enum用於flags？" class="headerlink" title="如何將enum用於flags？"></a>如何將enum用於flags？</h5><p>看看下面這個例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">designFlags</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  ITALICS = <span class="number">1</span>,</span><br><span class="line">  BOLD = <span class="number">2</span>,</span><br><span class="line">  UNDERLINE = <span class="number">4</span></span><br><span class="line">&#125; button;</span><br></pre></td></tr></table></figure>

<p>就像你在設計Windows應用的button一樣，你可以設置<code>ITALICS</code>，<code>BOLD</code>和<code>UNDERLINE</code>來處理文本。</p>
<p>為什麼他們都是2的積分常數？</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// In binary</span></span><br><span class="line"></span><br><span class="line">ITALICS = <span class="number">00000001</span></span><br><span class="line">BOLD = <span class="number">00000010</span></span><br><span class="line">UNDERLINE = <span class="number">00000100</span></span><br></pre></td></tr></table></figure>

<p>因為不會重複，所以我們可以一次選擇多個flags:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> namespac <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">designFlags</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  BOLD = <span class="number">1</span>,</span><br><span class="line">  ITALICS = <span class="number">2</span>,</span><br><span class="line">  UNDERLINE = <span class="number">4</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> myDesign = BOLD | UNDERLINE;</span><br><span class="line">        <span class="comment">//    00000001</span></span><br><span class="line">        <span class="comment">//  | 00000100</span></span><br><span class="line">        <span class="comment">//  ___________</span></span><br><span class="line">        <span class="comment">//    00000101</span></span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; myDesign;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">	 5</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>所以當輸出為5的時候，你可以知道使用了粗體和下劃線。</p>
<p>你也可以添加flags到需求裡。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (myDesign &amp; ITALICS) &#123;</span><br><span class="line">	<span class="comment">// code for italics</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我們在設計中添加了斜體。只有洩題代碼寫在了if語句中。</p>
<p>你可能不需要枚舉就可以在C++中完成幾乎所有的任務。但是他們在某些情況下非常方便，這也是好的程序員和優秀的程序員的不同之處。</p>
<hr>
<h3 id="十六：C-類與對象"><a href="#十六：C-類與對象" class="headerlink" title="十六：C++類與對象"></a>十六：C++類與對象</h3><p>假設我們需要存儲矩形房間的長度，寬度，高度，並計算面積和體積。</p>
<p>為了處理該任務，我們可以創建三個變量：<code>lengh</code>,<code>height</code>,<code>breadth</code>以及函數<code>calculateArea()</code>和<code>calculateVolume()</code>。</p>
<p>但是在C++中，除了創建單獨的變量和函數，我們還可以將相關的數據和函數包裝在一個地方（通過創建對象）。這種編程範例為面向對象編程。</p>
<p>但是在創建對象，並在C++中使用它之前，我們首先需要了解類。</p>
<h5 id="C-Class"><a href="#C-Class" class="headerlink" title="C++ Class"></a>C++ Class</h5><p>Class是對象的藍圖，我們可以把Class視為是房子的草圖。它包括地板，門，窗戶等詳細信息，基於這些，我們創建了房子，房子就是對象。</p>
<p>在C++中，使用關鍵字定義一個Class，<code>Class</code>後跟著類的名稱，類的主體在大括號內定義，並在末尾以分號終止。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">className</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="comment">// some data</span></span><br><span class="line">  <span class="comment">// some functions</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// example</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Room</span> &#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  		<span class="keyword">double</span> length;</span><br><span class="line">  		<span class="keyword">double</span> breadth;</span><br><span class="line">  		<span class="keyword">double</span> height;</span><br><span class="line">  </span><br><span class="line">  		<span class="function"><span class="keyword">double</span> <span class="title">calculateArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> length * breadth;</span><br><span class="line">      &#125;</span><br><span class="line">  		<span class="function"><span class="keyword">double</span> <span class="title">calculateVolume</span><span class="params">()</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> length * breadth * height;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>在這裡我們定義了一個名為<code>Room</code>的類，在類中聲明的變量<code>length</code>, <code>breadth</code>和<code>height</code>被稱為<strong>數據成員</strong>。函數<code>calculateArea()</code>和<code>calculateVolume()</code>被稱為<strong>成員函數</strong>。</p>
<h5 id="C-對象"><a href="#C-對象" class="headerlink" title="C++對象"></a>C++對象</h5><p>定義類時，僅定義對象的規範，沒有分配內存和存儲空間。</p>
<p>要使用該類中定義的數據和訪問功能，我們需要創建對象。</p>
<h5 id="在C-中定義對象的語法"><a href="#在C-中定義對象的語法" class="headerlink" title="在C++中定義對象的語法"></a>在C++中定義對象的語法</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">className objectVariableName;</span><br></pre></td></tr></table></figure>

<p>我們可以創建<code>Room</code>類的對象，如下所示：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// sample function</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sampleFunction</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// create objects</span></span><br><span class="line">  Room room1, room2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// create objects</span></span><br><span class="line">  Room room3, room4;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在這裡，兩個對象<code>room1</code>和<code>room2</code>在函數<code>sampleFunction()</code>中創建，<code>room3</code>和<code>room4</code>在函數<code>main()</code>中創建。</p>
<p>我們可以在程序的任何函數中創建類對象，也可以在類本身或其他類中創建類的對象。</p>
<h5 id="C-訪問數組成員和成員函數"><a href="#C-訪問數組成員和成員函數" class="headerlink" title="C++訪問數組成員和成員函數"></a>C++訪問數組成員和成員函數</h5><p>我們可以使用<code>.</code>運算符訪問類的數據成員和成員函數，例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">room2.calculateArea()</span><br></pre></td></tr></table></figure>

<p>這會調用類<code>room2</code>的函數<code>calculateArea()</code>。</p>
<p>同樣也可以使用下面的方法來訪問數據成員：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">room1.length = <span class="number">5.5</span>;</span><br></pre></td></tr></table></figure>

<p>在這樣的情況下，將<code>room1</code>的長度變量設置為5.5。</p>
<h5 id="示例一：C-編程中的對象和類"><a href="#示例一：C-編程中的對象和類" class="headerlink" title="示例一：C++編程中的對象和類"></a>示例一：C++編程中的對象和類</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Program to illustrate the working of </span></span><br><span class="line"><span class="comment">// bojects and class in C++ Programming</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// create a class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Room</span> &#123;</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  	<span class="keyword">double</span> length;</span><br><span class="line">	  <span class="keyword">double</span> breadth;</span><br><span class="line">  	<span class="keyword">double</span> height;</span><br><span class="line">  </span><br><span class="line">  	<span class="function"><span class="keyword">double</span> <span class="title">calculateArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> length * breadth;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  	<span class="function"><span class="keyword">double</span> <span class="title">calculateVolume</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> length * breadth * height;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// create object of Room class</span></span><br><span class="line">  Room room1;</span><br><span class="line">  </span><br><span class="line">  room1. length = <span class="number">42.5</span>;</span><br><span class="line">  room1. breadth = <span class="number">30.8</span>;</span><br><span class="line">  room1. height = <span class="number">19.2</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// calculate and display the area and volume of the room</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Area of Room = &quot;</span> &lt;&lt; room1.calculateArea() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Volume of Room = &quot;</span> &lt;&lt; room1.calculateVolume() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment"> 	 Area of Room =  1309</span></span><br><span class="line"><span class="comment">	 Volume of Room =  25132.8</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在這個項目中，我們使用了類<code>Room</code>還有它的對象<code>room1</code>來計算房間的面積和體積。</p>
<p>在<code>main()</code>中，我們設定了<code>length</code>，<code>breadth</code>和<code>height</code>的值：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">room1.length = <span class="number">42.5</span>;</span><br><span class="line">room1.breadth = <span class="number">30.8</span>;</span><br><span class="line">room1.height = <span class="number">19.2</span>;</span><br></pre></td></tr></table></figure>

<p>然後，我們調用函數<code>calculateArea()</code>和<code>calculateVolume()</code>執行計算。</p>
<p>我們在程序中使用了關鍵詞<code>public</code>，這意味著成員是公開的，並且可以在程序中的任何位置來訪問。</p>
<p>根據我們的需求，我們還可以使用<code>private</code>關鍵詞來創建似有成員。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">		<span class="keyword">int</span> a;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">function1</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">		</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">		<span class="keyword">int</span> b;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">function2</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="示例二：在C-類中使用public和private"><a href="#示例二：在C-類中使用public和private" class="headerlink" title="示例二：在C++類中使用public和private"></a>示例二：在C++類中使用public和private</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Program to illustrate the working of</span></span><br><span class="line"><span class="comment">// public and private in C++ Class</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Room</span> &#123;</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">  	<span class="keyword">double</span> length;</span><br><span class="line">	  <span class="keyword">double</span> breadth;</span><br><span class="line">  	<span class="keyword">double</span> height;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// function to initialize private variables</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">getData</span><span class="params">(<span class="keyword">double</span> len, <span class="keyword">double</span> brth, <span class="keyword">double</span> hgt)</span> </span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    length = len;</span><br><span class="line">    breadth = brth;</span><br><span class="line">    height = hgt;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">double</span> <span class="title">calculateArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> length * breadth;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">double</span> <span class="title">calculateVolume</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> length * breadth * height;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// create object of Room class</span></span><br><span class="line">  Room room1;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// pass the values of private variables as arguments</span></span><br><span class="line">  room1.getData(<span class="number">42.5</span>, <span class="number">30.8</span> ,<span class="number">19.2</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Area of Room = &quot;</span> &lt;&lt; room1. calculateArea() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Volume of Room = &quot;</span> &lt;&lt; room1. calculateVolume() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Area of Room =  1309</span></span><br><span class="line"><span class="comment">   Volume of Room =  25132.8</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>這個例子與上一個示例相同，只是變量變成了私有的。</p>
<p>由於變量變成了私有的，我們無法在<code>main()</code>中訪問它們，因此下面的代碼會無效：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// invalid code</span></span><br><span class="line">obj.length = <span class="number">42.5</span>;</span><br><span class="line">obj.breadth = <span class="number">30.8</span>;</span><br><span class="line">obj.height = <span class="number">19.2</span>;</span><br></pre></td></tr></table></figure>

<p>相反的，我們可以使用公共函數<code>getData()</code>通過函數的參數初始化私有變量。</p>
<hr>
<h3 id="十七：C-構造函數"><a href="#十七：C-構造函數" class="headerlink" title="十七：C++構造函數"></a>十七：C++構造函數</h3><p>構造函數是成員函數的一個特殊類型，在創建對象時會自動調用，構造函數的名稱與類的名稱相同，並且沒有返回類型。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wall</span> &#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// create a constructor</span></span><br><span class="line">  Wall()&#123;</span><br><span class="line">    <span class="comment">// code</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>在這裡，函數<code>Wall()</code>是類<code>Wall</code>的構造函數，請注意，構造函數：</p>
<p>1.與類名稱相同</p>
<p>2.沒有返回類型，並且是<code>public</code></p>
<p>沒有參數的構造函數稱為<strong>默認構造函數</strong>。在上面的示例中，<code>Wall()</code>是默認的構造函數。</p>
<h5 id="示例一：C-默認構造函數"><a href="#示例一：C-默認構造函數" class="headerlink" title="示例一：C++默認構造函數"></a>示例一：C++默認構造函數</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program to demonstrate the use of default constructor</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// declare a class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wall</span> &#123;</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">  		<span class="keyword">double</span> length;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  	<span class="comment">// create a constructor</span></span><br><span class="line">  	Wall() &#123;</span><br><span class="line">      </span><br><span class="line">      	<span class="comment">// initialize private variables</span></span><br><span class="line">      length = <span class="number">5.5</span>;</span><br><span class="line">      </span><br><span class="line">      <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Creating a wall.&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">      <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Length = &quot;</span> &lt;&lt; length &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// creat an object</span></span><br><span class="line">  Wall wall1;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Creating a wall</span></span><br><span class="line"><span class="comment">   Length = 5.5</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>在這裡，當<code>Wall1</code>被創建後，<code>Wall()</code>調用為構造函數。</p>
<blockquote>
<p>如果我們沒有在類中定義構造函數，則C++編譯器會自動創建一個空代碼且無參數的默認構造函數。</p>
</blockquote>
<p>C++參數化構造函數；在C++中，帶有參數的構造函數稱為參數化構造函數。這是初始化成員數據的首選方法。</p>
<h5 id="示例二：C-參數化構造函數"><a href="#示例二：C-參數化構造函數" class="headerlink" title="示例二：C++參數化構造函數"></a>示例二：C++參數化構造函數</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program to calculate the area of a wall</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// declare a class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wall</span> &#123;</span></span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">   <span class="keyword">double</span> length;</span><br><span class="line">   <span class="keyword">double</span> height;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="comment">// create parameterized constructor</span></span><br><span class="line">  Wall(<span class="keyword">double</span> len, <span class="keyword">double</span> hgt) &#123;</span><br><span class="line">    <span class="comment">// initialize private variables</span></span><br><span class="line">    length = len;</span><br><span class="line">    height = hgt;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">double</span> <span class="title">calculateArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> length * height;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">//create object and initialize data menbers</span></span><br><span class="line">  <span class="function">Wall <span class="title">wall1</span><span class="params">(<span class="number">10.5</span>, <span class="number">8.6</span>)</span></span>;</span><br><span class="line">  <span class="function">Wall <span class="title">wall2</span><span class="params">(<span class="number">8.5</span>, <span class="number">6.3</span>)</span></span>;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Area of Wall 1: &quot;</span> &lt;&lt; wall1.calculateArea() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Area of Wall 2: &quot;</span> &lt;&lt; wall2.calculateArea() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Area of Wall 1: 90.3</span></span><br><span class="line"><span class="comment">   Area of Wall 2: 53.55</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>在這裡，我們創建了一個<code>Wall()</code>帶有兩個參數的參數化構造函數：<code>double len</code>和<code>double hgt</code>。在這參數中包括了用於初始化成員變量的<code>length</code>和<code>height</code>。</p>
<p>當創建<code>Room</code>類對象時，我們將成員變量的值作為參數傳遞。代碼塊是：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Wall <span class="title">wall1</span><span class="params">(<span class="number">10.5</span>, <span class="number">8.6</span>)</span></span>;</span><br><span class="line"><span class="function">Wall <span class="title">wall2</span><span class="params">(<span class="number">8.5</span>, <span class="number">6.3</span>)</span></span>;</span><br></pre></td></tr></table></figure>

<p>通過初試後成員變量，我們現在可以使用<code>calculateArea()</code>函數計算面積。</p>
<p>C++複製構造函數，C++中的複製構造函數用於將一個對象的數據複製到另一個對象。</p>
<h5 id="示例三：C-複製構造函數"><a href="#示例三：C-複製構造函數" class="headerlink" title="示例三：C++複製構造函數"></a>示例三：C++複製構造函數</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iosteam&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//declare a class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wall</span> &#123;</span></span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">  	 <span class="keyword">double</span> length;</span><br><span class="line">	   <span class="keyword">double</span> height;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// parameterized coustructor</span></span><br><span class="line">  Wall(<span class="keyword">double</span> len, <span class="keyword">double</span> hgt)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// initialize private variables</span></span><br><span class="line">    length = len;</span><br><span class="line">    height = hgt;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// copy constructor with a Wall object as parameter</span></span><br><span class="line">  Wall(Wall &amp;obj) &#123;</span><br><span class="line">    <span class="comment">// initialize private variables</span></span><br><span class="line">    length = obj.length;</span><br><span class="line">    height = obj.height;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">double</span> <span class="title">calculateArea</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> length * height;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// create an boject of Wall class</span></span><br><span class="line">  <span class="function">Wall <span class="title">wall1</span><span class="params">(<span class="number">10.5</span>, <span class="number">8.6</span>)</span></span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print area of wall1</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Area of Room 1: &quot;</span> &lt;&lt; wall1.calculateArea() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// copy contents of room1 to another object room2</span></span><br><span class="line">  Wall wall2 = wall1;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print area of wall2</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Area of Room 2: &quot;</span> &lt;&lt; wall2.calculateArea() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Area of Room 1: 90.3</span></span><br><span class="line"><span class="comment">   Area of Room 2: 90.3</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>在這個程序中，我們使用了構造函數<code>Wall</code>，把一個對象的內容複製到另一個對象，複製構造函數的代碼為：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Room(Room &amp;obj) &#123;</span><br><span class="line">  length = obj.length;</span><br><span class="line">  height = obj.height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>構造函數的參數具有<code>Wall</code>類對象的地址。</p>
<p>然後，我們將第一個對象的變量值分配給第二個對象的相應變量。這就是複製對象內容的方式。</p>
<blockquote>
<p>構造函數主要用於初始化對象，創建對象時，他們還用於運行默認代碼。</p>
</blockquote>
<hr>
<h3 id="十八：通過C-函數傳遞和返回對象"><a href="#十八：通過C-函數傳遞和返回對象" class="headerlink" title="十八：通過C++函數傳遞和返回對象"></a>十八：通過C++函數傳遞和返回對象</h3><p>在C++編程中，我們還可以通過與傳遞常規參數類似的方法來將對象傳遞給函數。</p>
<h5 id="示例一：C-將對象傳遞給函數"><a href="#示例一：C-將對象傳遞給函數" class="headerlink" title="示例一：C++將對象傳遞給函數"></a>示例一：C++將對象傳遞給函數</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program to calculate the average marks of two students</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  	<span class="keyword">double</span> marks;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// constructor to initialize marks</span></span><br><span class="line">  Student(<span class="keyword">double</span> m) &#123;</span><br><span class="line">    marks = m;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// function that has objects as parameters</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">calculateAverage</span><span class="params">(Student s1, Student s2)</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// calculate the average of marks of s1 and s2</span></span><br><span class="line">  <span class="keyword">double</span> average = (s1.marks + s2.marks) / <span class="number">2</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Average Marks = &quot;</span> &lt;&lt; average &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Student student1(88.0), student2(56.0);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// pass the objects as arguments</span></span><br><span class="line">  calculateAverage(student1, student2);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">	 Average Marks = 72</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>在這裡，我們傳遞了兩個<code>Student</code>對象<code>student1</code>和<code>student2</code>作為函數<code>calculateAverage()</code>的參數。</p>
<img src="https://cdn.programiz.com/sites/tutorial2program/files/cpp-pass-object-to-function.png" style="zoom:50%;" />

<h5 id="示例二：C-從函數返回對象"><a href="#示例二：C-從函數返回對象" class="headerlink" title="示例二：C++從函數返回對象"></a>示例二：C++從函數返回對象</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> stdl</span><br><span class="line">  </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  	<span class="keyword">double</span> marks1, marks2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// function that returns object of Student</span></span><br><span class="line"><span class="function">Student <span class="title">createStudent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Student student;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Initialize member variables of Student</span></span><br><span class="line">  student.marks1 = <span class="number">96.5</span>;</span><br><span class="line">  student.marks2 = <span class="number">75.0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print member variables of Student</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Marks 1 = &quot;</span> &lt;&lt; student.marks1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Marks 2 = &quot;</span> &lt;&lt; student.marks2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> student;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Student student1;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Call function</span></span><br><span class="line">  student1 = createStudent();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">	 Marks 1 = 96.5</span></span><br><span class="line"><span class="comment">	 Marks 2 = 75</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<img src="https://cdn.programiz.com/sites/tutorial2program/files/cpp-return-object-from-function.png" style="zoom:50%;" />

<p>在程序中，我們創建了一個<code>createStudent()</code>函數，返回類<code>Student</code>的對象。</p>
<p>我們的<code>createStudent()</code>從<code>main()</code>方法中調用了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Call function</span></span><br><span class="line">student1 = createStudent();</span><br></pre></td></tr></table></figure>

<p>我們將<code>createStudent()</code>方法返回的對象存儲在了<code>student1</code>中。</p>
<hr>
<h3 id="十九：C-運算符重載"><a href="#十九：C-運算符重載" class="headerlink" title="十九：C++運算符重載"></a>十九：C++運算符重載</h3><p>在C++中，我們可以更改運算符對用戶定義類型的工作方式（如對象和結構）。這稱為<strong>運算符重載</strong>。例如：</p>
<p>假設我們創建了三個對象<code>c1</code>，<code>c2</code>，<code>result</code>來自一個<code>Complex</code>代表複數的類。</p>
<p>由於運算符重載允許我們更改運算符的工作方式，你次我們可以重新定義運算符的工作方式，使用<code>+</code>來添加運算符的複數。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = c1 + c2;</span><br></pre></td></tr></table></figure>

<p>而不是像:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = c1.addNumbers(c2);</span><br></pre></td></tr></table></figure>

<p>這樣我們的代碼直觀易懂。</p>
<blockquote>
<p>我們不能用運算符重載基本的數據類型，例如<code>int</code>，<code>float</code>，<code>char</code>等。</p>
</blockquote>
<h5 id="C-運算符重載的語法"><a href="#C-運算符重載的語法" class="headerlink" title="C++運算符重載的語法"></a>C++運算符重載的語法</h5><p>為了使運算符重載，我們使用了一個特殊的<code>operator</code>函數。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">className</span> &#123;</span></span><br><span class="line">  ... .. ...</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="function">returnType <span class="keyword">operator</span> <span class="title">symbol</span> <span class="params">(arguments)</span> </span>&#123;</span><br><span class="line">    			... .. ...</span><br><span class="line">  &#125;</span><br><span class="line">  ... .. ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>returnType</code>使函數的返回類型，運算符是關鍵字，<code>symbol</code>是我們要重載的運算符，例如<code>+</code>，<code>-</code>，<code>&lt;</code>，<code>++</code>等等。</p>
<p>一元運算符中的運算符重載，一元運算符只能對一個操作數進行運算。增量運算符<code>++</code>和減量運算符<code>--</code>。</p>
<h5 id="示例一：-運算符重載"><a href="#示例一：-運算符重載" class="headerlink" title="示例一：++運算符重載"></a>示例一：++運算符重載</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Oerload ++ when used as prefix</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Count</span> &#123;</span></span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">  	<span class="keyword">int</span> value;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Constructor to initialize count to 5</span></span><br><span class="line">  Count() : value(<span class="number">5</span>) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Overload ++ when used as prefix</span></span><br><span class="line">  <span class="keyword">void</span> <span class="keyword">operator</span> ++ () &#123;</span><br><span class="line">    	++value;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Count: &quot;</span> &lt;&lt; value &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Count count1;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Call the &quot;void operator ++ ()&quot; function</span></span><br><span class="line">  ++count1;</span><br><span class="line">  </span><br><span class="line">  count1.display();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">	 Count: 6</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>當我們重載運算符時，我們可以使用任何我們喜歡的方式，例如++可以增加100；但是這樣會讓我們的代碼混亂難以理解，我們的工作是以一致且直觀的方式正確使用運算符重載。</p>
</blockquote>
<p>上面的示例僅在<code>++</code>作為前綴時才有用，為了使<code>++</code>變為後綴，我們可以如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="keyword">operator</span> ++ (<span class="keyword">int</span>) &#123;</span><br><span class="line">  <span class="comment">// code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>這是用於將一元運算符用作後綴的語法，他不是一個函數參數。</p>
<h5 id="示例二：-運算符重載"><a href="#示例二：-運算符重載" class="headerlink" title="示例二：++運算符重載"></a>示例二：++運算符重載</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Overload ++ when used as prefix and postfix</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Count</span> &#123;</span></span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">  	<span class="keyword">int</span> value;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Constructor to initialize count to 5</span></span><br><span class="line">  Count() : value(<span class="number">5</span>) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Overload ++ when used as prefix</span></span><br><span class="line">  <span class="keyword">void</span> <span class="keyword">operator</span> ++ () &#123;</span><br><span class="line">    ++value;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Overload ++ when used as postfix</span></span><br><span class="line">  <span class="keyword">void</span> <span class="keyword">operator</span> ++ (<span class="keyword">int</span>) &#123;</span><br><span class="line">    ++value;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Count: &quot;</span> &lt;&lt; value &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Count count1;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Call the &quot;void operator ++ (int)&quot; function</span></span><br><span class="line">  count1++;</span><br><span class="line">  count1.display();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Call teh &quot;void operator ++ ()&quot; function</span></span><br><span class="line">  ++ count1;</span><br><span class="line">  </span><br><span class="line">  count1.display();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">	 Count: 6</span></span><br><span class="line"><span class="comment">	 Count: 7</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>我們實現了<code>++</code>前綴和後綴。但是如果我們嘗試以下操作，則無效：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Count count1, result;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Error</span></span><br><span class="line">result = ++count1;</span><br></pre></td></tr></table></figure>

<p>這是因為運算符返回類型為<code>void</code>。我們可以通過<code>Count</code>將運算符作為返回類型來解決此問題。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// return Count when ++ used as prefix</span></span><br><span class="line"></span><br><span class="line">Count <span class="keyword">operator</span> ++ () &#123;</span><br><span class="line">  <span class="comment">// code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// return Count when ++ used as postfix</span></span><br><span class="line"></span><br><span class="line">Count <span class="keyword">operator</span> ++ (<span class="keyword">int</span>) &#123;</span><br><span class="line">  <span class="comment">// code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="示例三：從運算符函數返回值"><a href="#示例三：從運算符函數返回值" class="headerlink" title="示例三：從運算符函數返回值"></a>示例三：從運算符函數返回值</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Count</span> &#123;</span></span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">  	<span class="keyword">int</span> value;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="comment">// Constructor to initialize count to 5</span></span><br><span class="line">  Count() : value(<span class="number">5</span>) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Overload ++ when used as prefix</span></span><br><span class="line">  Count <span class="keyword">operator</span> ++ () &#123;</span><br><span class="line">    Count temp;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Here, value is the value attribute of teh calling object</span></span><br><span class="line">    temp.value = ++value;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Overload ++ when used as postfix</span></span><br><span class="line">  Count <span class="keyword">operator</span> ++ (<span class="keyword">int</span>) &#123;</span><br><span class="line">    Count temp;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Here, value is teh value attribute of teh calling object</span></span><br><span class="line">    temp.value = ++value;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Count: &quot;</span> &lt;&lt; value &lt;, <span class="built_in">endl</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Count count1, result;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Call teh &quot;Count operator ++ ()&quot; function</span></span><br><span class="line">  result = ++count1;</span><br><span class="line">  result.display();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">	 Count: 6</span></span><br><span class="line"><span class="comment">	 Count: 7</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>在這裡，我們使用以下代碼進行前綴運算符重載：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Overload ++ when used as prefix</span></span><br><span class="line">Count <span class="keyword">operator</span> ++ () &#123;</span><br><span class="line">  Count temp;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Here, value is teh value attribute of teh calling object</span></span><br><span class="line">  temp.value = ++value;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我們創建了一個對象<code>temp</code>並將其值返回給operator函數。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">temp.value = ++value;</span><br></pre></td></tr></table></figure>

<p>The variable <code>value</code> belongs to the <code>count1</code> object in <code>main()</code> because <code>count1</code> is calling the function, while <code>temp.value</code> belongs to the <code>temp</code> object.</p>
<p>二元運算符中的運算符重載，二進制運算符處理兩個數：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resulut = num + <span class="number">9</span>;</span><br></pre></td></tr></table></figure>

<p>這裡，<code>+</code>是一個操作二進制運算符<code>num</code>和<code>9</code>。</p>
<p>當我們通過代碼重載用於用戶自定義類型的二進制運算符時：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj3 = obj1 + obj2;</span><br></pre></td></tr></table></figure>

<p>使用<code>obj1</code>和<code>obj2</code>作為參數傳遞給函數。</p>
<h5 id="C-二進制運算符重載"><a href="#C-二進制運算符重載" class="headerlink" title="C++二進制運算符重載"></a>C++二進制運算符重載</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program to overload the binary operator +</span></span><br><span class="line"><span class="comment">// This program adds two complex numbers</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span> &#123;</span></span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">  	<span class="keyword">float</span> real;</span><br><span class="line">  	<span class="keyword">float</span> imag;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="comment">// Constructor to initialize real and imag to 0</span></span><br><span class="line">  Complex() : real(<span class="number">0</span>), imag(<span class="number">0</span>) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter real and imaginary parts repectively:&quot;</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; real;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; imag;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Overload the + operator</span></span><br><span class="line">  Complex <span class="keyword">operator</span> + (<span class="keyword">const</span> Complex&amp; obj) &#123;</span><br><span class="line">    Complex temp;</span><br><span class="line">    temp.real = real + obj.real;</span><br><span class="line">    temp.imag = imag + obj.imag;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(imag &lt; <span class="number">0</span>)</span><br><span class="line">       <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Output Complex number: &quot;</span> &lt;&lt; real &lt;&lt; imag &lt;&lt; <span class="string">&quot;i&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">       <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Output Complex number: &quot;</span> &lt;&lt; real  &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; imag &lt;&lt; <span class="string">&quot;i&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Complex complex1, complex2, result;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter first complex number:\n&quot;</span>;</span><br><span class="line">  complex1.input();</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter second complex number;\n&quot;</span>;</span><br><span class="line">  complex2.input();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// complex1 calls the operator function</span></span><br><span class="line">  <span class="comment">// complex2 is passed as an argument to the function</span></span><br><span class="line">  result = complex1 + complex2;</span><br><span class="line">  result.output();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Enter first complex number:</span></span><br><span class="line"><span class="comment">   Enter real and imaginary parts respectively: 9 5</span></span><br><span class="line"><span class="comment">   Enter second complex number:</span></span><br><span class="line"><span class="comment">   Enter real and imaginary parts respectively: 7 6</span></span><br><span class="line"><span class="comment">   Output Complex number: 16+11i</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>在這個程序中，字符串重載函數為:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Complex <span class="keyword">operator</span> + (<span class="keyword">const</span> Complex&amp; obj) &#123;</span><br><span class="line">	<span class="comment">// code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>除此之外，我們也可以編寫如下函數：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Complex <span class="keyword">operator</span> + (Complex obj) &#123;</span><br><span class="line">	<span class="comment">// code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用<code>&amp;</code>提升代碼效率，通過引用<code>Complex2</code>對象，而不需要再運算符函數中創建重複的對象。</p>
<p>使用<code>const</code>是一個好習慣，可以阻止operator函數修改<code>complex2</code>。</p>
<img src="https://cdn.programiz.com/sites/tutorial2program/files/cpp-operator-overloading.png" style="zoom:50%;" />

<h5 id="C-運算符重載中的注意項"><a href="#C-運算符重載中的注意項" class="headerlink" title="C++運算符重載中的注意項"></a>C++運算符重載中的注意項</h5><p>1.兩個運算符<code>=</code>和<code>&amp;</code>已經在C++中被默認重載，我們不需要創建運算符。</p>
<p>2.運算符重載不能更改運算符的優先級和關聯性，如果要調整計算順序，需要使用括號。</p>
<p>3.C++中有4個不能重載的運算符，它們是：</p>
<p>​    a.<code>::</code>(scope resolution)</p>
<p>​    b.<code>.</code>(member selection)</p>
<p>​    c.<code>.*</code>(member selection through pointer to function)</p>
<p>​    d.<code>?:</code>(ternary operator)</p>
<hr>
<h3 id="二十：C-指針"><a href="#二十：C-指針" class="headerlink" title="二十：C++指針"></a>二十：C++指針</h3><p>在C++中，指針是存儲其他變量的內存地址的變量。</p>
<p>如果我們有一個變量<code>var</code>，<code>&amp;var</code>可以給我提供它在內存中的地址：</p>
<h5 id="示例一：在C-中打印變量地址"><a href="#示例一：在C-中打印變量地址" class="headerlink" title="示例一：在C++中打印變量地址"></a>示例一：在C++中打印變量地址</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// declare variables</span></span><br><span class="line">  <span class="keyword">int</span> var1 = <span class="number">3</span>;</span><br><span class="line">  <span class="keyword">int</span> var2 = <span class="number">24</span>;</span><br><span class="line">  <span class="keyword">int</span> var3 = <span class="number">17</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print address of var1</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Address of var1: &quot;</span> &lt;&lt; &amp;var1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print address of var2</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Address of var2: &quot;</span> &lt;&lt; &amp;var2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print address of var3</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Address of var3: &quot;</span> &lt;&lt; &amp;var3 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   Address of var1: 0x7fff5fbff8ac</span></span><br><span class="line"><span class="comment">   Address of var2: 0x7fff5fbff8a8</span></span><br><span class="line"><span class="comment">   Address of var3: 0x7fff5fbff8a4</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>在這裡<code>0x</code>開頭表示是十六進制的地址。</p>
<blockquote>
<p>運行時的結果可能是不同的，按需分配。</p>
</blockquote>
<h5 id="C-指針"><a href="#C-指針" class="headerlink" title="C++指針"></a>C++指針</h5><p>如上所述，指針存儲的是地址而不是值。</p>
<p>聲明指針的方法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *pointVar</span><br></pre></td></tr></table></figure>

<p>在這裡，我們聲明了一個指針 <code>int</code>類型的<code>pointVar</code> 指針。</p>
<p>我們也可以通過下面的方式聲明指針：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>* pointVar</span><br></pre></td></tr></table></figure>

<p>我們還可以再舉一個聲明指針的例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>* ponitVar, p;</span><br></pre></td></tr></table></figure>

<p>在這裡我們聲明了一個指針<code>pointVar</code>和一個普通變量<code>p</code>。</p>
<h5 id="給指針分配地址"><a href="#給指針分配地址" class="headerlink" title="給指針分配地址"></a>給指針分配地址</h5><p>下面是我們給指針分配地址的示例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>* pointVar, var;</span><br><span class="line">var = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// assign address of var to pointVar pointer</span></span><br><span class="line">pointVar = &amp;var;</span><br></pre></td></tr></table></figure>

<p>在這裡，我們首先將<code>5</code>分配給了變量<code>var</code>，<code>var</code>的地址被配給指針<code>pointVar</code>。</p>
<h5 id="使用指針從地址獲取值"><a href="#使用指針從地址獲取值" class="headerlink" title="使用指針從地址獲取值"></a>使用指針從地址獲取值</h5><p>為了獲得指針所指向的值，我們使用<code>*</code>符號，例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>* pointVar, var;</span><br><span class="line">var = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// assign address of var to pointVar</span></span><br><span class="line">pointVar = &amp;var;</span><br><span class="line"></span><br><span class="line"><span class="comment">// accesss value pointer by pointVar</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *pointVar &lt;&lt; <span class="built_in">endl</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">	 5</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>在上面的代碼中，var的地址被分配給了<code>pointVar</code>，我們已經使用了<code>*pointVar</code>來獲取存儲在地址中的值。</p>
<p><code>*</code>與指針使用時，它表示引用操作，對指針操作，並給出指針中存儲地址指向的值，即：<code>*pointVar = var</code>。</p>
<blockquote>
<p>在C++中，<code>pointVar</code> 與<code>*pointVar</code>不同，我們不能這樣做: <code>*pointVar = &amp;var;</code></p>
</blockquote>
<h5 id="示例二：C-指針工作"><a href="#示例二：C-指針工作" class="headerlink" title="示例二：C++指針工作"></a>示例二：C++指針工作</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> namespcae <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> var = <span class="number">5</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//declare pointer variable</span></span><br><span class="line">  <span class="keyword">int</span>* pointVar;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// store address of var</span></span><br><span class="line">  pointVar = &amp;var;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print value of var</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;var = &quot;</span> &lt;&lt; var &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print address of var</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Address of var(&amp;var) = &quot;</span> &lt;&lt; &amp;var &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print pointer pointVar</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;pointVar = &quot;</span> &lt;&lt; pointVar &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print the content of the address pointVar points to</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Content of teh address pointed to by pointVar (*pointVar) = &quot;</span> &lt;&lt; *pointVar &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">	 var = 5</span></span><br><span class="line"><span class="comment">   Address of var (&amp;var) = 0x61ff08</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   pointVar = 0x61ff08</span></span><br><span class="line"><span class="comment">   Content of the address pointed to by pointVar (*pointVar) = 5</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<img src="https://cdn.programiz.com/sites/tutorial2program/files/cpp-pointer-working.png" style="zoom:50%;" />

<p>改變指針指向的值，如果<code>pointVar</code>指向<code>var</code>的地址，我們可以通過<code>*pointVar</code>改變<code>var</code>的數值。舉例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> var = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span>* pointVar;</span><br><span class="line"></span><br><span class="line"><span class="comment">// assign address of var</span></span><br><span class="line">pointVar = &amp;var;</span><br><span class="line"></span><br><span class="line"><span class="comment">// change value at address pointVar</span></span><br><span class="line">*pointVar = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; var &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// Output: 1</span></span><br></pre></td></tr></table></figure>

<p>這裡，<code>pointVar</code>和<code>&amp;var</code> 有相同的地址，所以當<code>*pointVar</code>被改變的時候，<code>var</code>可以被改變。</p>
<h5 id="示例三："><a href="#示例三：" class="headerlink" title="示例三："></a>示例三：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> var = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">int</span>* pointVar;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// store address of var</span></span><br><span class="line">  pointVar = &amp;var;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print var</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;var = &quot;</span> &lt;&lt; var &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print *pointVar</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*pointVar = &quot;</span> &lt;&lt; *pointVar &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Changing value of var to 7: &quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// change value of var to 7</span></span><br><span class="line">  var = <span class="number">7</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print var</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;var = &quot;</span> &lt;&lt; var &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print *pointVar</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*pointVar = &quot;</span> &lt;&lt; *pointVar &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Changing value *pointVar to 16:&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// change value of var to 16</span></span><br><span class="line">  *pointVar = <span class="number">16</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print var</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;var = &quot;</span> &lt;&lt; var &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// print *pointVar</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*pointVar = &quot;</span> &lt;&lt; *pointVar &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* OUTPUT</span></span><br><span class="line"><span class="comment">   var = 5</span></span><br><span class="line"><span class="comment">   *pointVar = 5</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   Changing value of var to 7:</span></span><br><span class="line"><span class="comment">   var = 7</span></span><br><span class="line"><span class="comment">   *pointVar = 7</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   Changing value of *pointVar to 16:</span></span><br><span class="line"><span class="comment">   var = 16</span></span><br><span class="line"><span class="comment">   *pointVar = 16</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h5 id="使用指針時的常見錯誤"><a href="#使用指針時的常見錯誤" class="headerlink" title="使用指針時的常見錯誤"></a>使用指針時的常見錯誤</h5><p>假設，我們想要指針<code>varPoint</code>指向<code>var</code>的地址：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> var, *varPoint;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Wrong!</span></span><br><span class="line"><span class="comment">// varPoint is an address but var is not</span></span><br><span class="line">varPoint = var;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Wrong!</span></span><br><span class="line"><span class="comment">// &amp;var is an address</span></span><br><span class="line"><span class="comment">// *varPoint is the value stored in &amp;var</span></span><br><span class="line">*varPoint = &amp;var;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Correct!</span></span><br><span class="line"><span class="comment">// varPoint is an address and so is &amp;var</span></span><br><span class="line">varPoint = &amp;var;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Correct!</span></span><br><span class="line"><span class="comment">// both *varPoint and var are values</span></span><br><span class="line">*varPoint = var;</span><br></pre></td></tr></table></figure>

<p><strong>Recommended Readings</strong>:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.programiz.com/cpp-programming/pointer-void">How to use generic data type pointers using a void pointer?</a></li>
<li><a target="_blank" rel="noopener" href="https://www.programiz.com/cpp-programming/pointers-arrays">How to represent an array using a pointer?</a></li>
<li><a target="_blank" rel="noopener" href="https://www.programiz.com/cpp-programming/pointers-function">How to use pointers with functions?</a></li>
<li><a target="_blank" rel="noopener" href="https://www.programiz.com/cpp-programming/structure-pointer">How to use pointers with structures?</a></li>
</ul>

    </div>

    <div class="about">
        <h1>About this Post</h1>
        <p>This post is written by Siqi Shu, licensed under <a
                target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc/4.0">CC BY-NC 4.0</a>.</p>
    </div>
</article>
        <footer>
    <div class="inner">
        <div class="links">
            
            <div class="group">
                <h4 class="title">深智一物 眾隱皆變</h4>
                
            </div>
            
        </div>
        &copy; 2024 Siqi Shu<br />
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
</footer>


        
<script src="/js/main.js"></script>

        
<script src="/js/kursor.js"></script>

        
<script src="/js/run.js"></script>


    </body>
</html>
