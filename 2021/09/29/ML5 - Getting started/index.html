<!DOCTYPE html>
<html lang="en">
    <!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  
  <title>ml5.js - Getting Started - Shu-Creative Computing</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
    <link rel='manifest' href='/manifest.json'>
  

  
<link rel="stylesheet" href="/css/var.css">

  
<link rel="stylesheet" href="/css/main.css">

  
<link rel="stylesheet" href="/css/cursor.css">

  
<link rel="stylesheet" href="/css/typography.css">

  
<link rel="stylesheet" href="/css/components.css">

  
<link rel="stylesheet" href="/css/nav.css">

  
<link rel="stylesheet" href="/css/paginator.css">

  
<link rel="stylesheet" href="/css/footer.css">

  
<link rel="stylesheet" href="/css/post-list.css">

  
  
  
<link rel="stylesheet" href="/css/post.css">

  

<meta name="generator" content="Hexo 5.2.0"></head>


    <body>
        <nav id="theme-nav">
    <div class="inner">
        <a class="title" href="/">Shu&#39;s Blog</a>
        <div class="nav-arrow"></div>
        <div class="nav-items">
            <a class="nav-item nav-item-home" href="/">Home</a>
            
            
            <a class="nav-item" href="/categories/essays">Thinking</a>
            
            
            
            <a class="nav-item" href="/categories/pcomp">Pcomp&amp;AVCE</a>
            
            
            
            <a class="nav-item" href="/categories/coding">Coding</a>
            
            
            
            <a class="nav-item" href="/categories/portfolio">Portfolio</a>
            
            
            
            <a class="nav-item" href="/contact">About</a>
            
            
            
            <a class="nav-item nav-item-github nav-item-icon" href="https://github.com/ShuSQ" target="_blank">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-codepen nav-item-icon" href="https://codepen.io/shusq" target="_blank">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-patreon nav-item-icon" href="https://www.instagram.com/cheese_shu/" target="_blank">&nbsp;</a>
            
            
        </div>
    </div>
</nav>
        <article class="post">
    <div class="meta">
        
        <div class="date" id="date">
            
            
            
            
            
            
            
            
            
            <span>September</span>
            
            
            
            
            <span>29,</span>
            <span>2021</span>
        </div>
        

        <h2 class="title">ml5.js - Getting Started</h2>
    </div>

    <div class="divider"></div>

    <div class="content">
        <blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªå…³äºml5.jsçš„å­¦ä¹ ç¬”è®°ï¼Œå’Œæ¡ˆä¾‹å°è¯•ã€‚</p>
</blockquote>
<h3 id="ä»€ä¹ˆæ˜¯ml5-js"><a href="#ä»€ä¹ˆæ˜¯ml5-js" class="headerlink" title="ä»€ä¹ˆæ˜¯ml5.js?"></a>ä»€ä¹ˆæ˜¯ml5.js?</h3><p>ml5.js is a javascript library - friendly machine learning for web.</p>
<p>ml5.jsæ˜¯å¯ä»¥åœ¨webæµè§ˆå™¨ä¸­è¿è¡Œçš„æœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œé€šè¿‡webæµè§ˆå™¨å†…ç½®çš„GPUå¤„ç†å•å…ƒè®¡ç®—ï¼Œè¿™æ ·çš„è¿ç®—é€Ÿåº¦è¿œè¿œå¿«äºCPUï¼Œshaderå°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªè§£é‡Šæ¡ˆä¾‹ã€‚</p>
<h3 id="Quickstart"><a href="#Quickstart" class="headerlink" title="Quickstart"></a>Quickstart</h3><p>å°è¯•ml5.jsçš„æœ€å¿«é€Ÿçš„æ–¹å¼æ˜¯ï¼š</p>
<p>1.ç»“åˆp5.jså’Œml5.jsä¸€èµ·ä½¿ç”¨ï¼Œåœ¨è¿™é‡ŒæŸ¥çœ‹<a target="_blank" rel="noopener" href="https://editor.p5js.org/ml5/sketches/qqhYX2QmN">P5.jsçš„webæ¨¡æ¿</a>ï¼Œæˆ–ä»GitHubä¸Šè·å–<a target="_blank" rel="noopener" href="https://github.com/ml5js/ml5-library/tree/main/examples/p5js/ml5Boilerplate/ml5Boilerplate_Version">p5.jså’Œml5.jsçš„æ¨¡ç‰ˆæ–‡ä»¶</a>ã€‚</p>
<p>2.å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨çº¯ml5.jsçš„æ–‡ä»¶æ¨¡æ¿ï¼Œå¹¶ä»<a target="_blank" rel="noopener" href="https://github.com/ml5js/ml5-library/tree/main/examples/javascript/ml5Boilerplate/ml5Boilerplate_Version">GitHubä¸Šè·å–</a>ã€‚</p>
<p>3.ä»CDNè·å–ml5.jsçš„åº“ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://unpkg.com/ml5@latest/dist/ml5.min.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨index.htmlæ–‡ä»¶ä¸­ï¼Œå¤åˆ¶ç²˜è´´ï¼Œç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æ–‡ä»¶æŸ¥çœ‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Getting Started with ml5.js<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/ml5@latest/dist/ml5.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// Your code will go here</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// open up your console - if everything loaded properly you should see the correct version number</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&#x27;ml5 version:&#x27;</span>, ml5.version);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ml5.jsçš„è®¾è®¡å¯ä»¥ä¸p5.jsé…åˆå¾—å¾ˆå¥½ï¼Œå¯ä»¥ä»ä»¥ä¸‹çš„æ¨¡ç‰ˆä»£ç å¼€å§‹æ„å»ºä½ çš„é¡¹ç›®ï¼š</p>
<p>åœ¨index.htmlæ–‡ä»¶ä¸­ï¼Œå¤åˆ¶ç²˜è´´ï¼Œå¹¶ä¸”åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¯¥æ–‡ä»¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Getting Started with ml5.js<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- p5 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/addons/p5.sound.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ml5 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/ml5@latest/dist/ml5.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// Your code will go here</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// open up your console - if everything loaded properly you should see the latest ml5 version</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&#x27;ml5 version:&#x27;</span>, ml5.version);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">setup</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        createCanvas(400, 400);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        background(200);</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="ml5-js-introduction"><a href="#ml5-js-introduction" class="headerlink" title="ml5.js introduction"></a>ml5.js introduction</h3><p>ml5.jsç›®æ ‡æ˜¯è®©æ›´å¤šçš„äººå¯ä»¥è½»æ¾åœ°ä½¿ç”¨æœºå™¨å­¦ä¹ ã€‚ml5çš„å›¢é˜Ÿä¹Ÿåœ¨åŠªåŠ›åˆ›å»ºæ›´åŠ å‹å¥½ï¼Œæ˜“äºä½¿ç”¨çš„æœºå™¨å­¦ä¹ åŠŸèƒ½ã€‚ä¸‹é¢çš„ä¸€ä¸ªæ¡ˆä¾‹ä»‹ç»äº†ml5.jså®ç°çš„æœºå™¨å­¦ä¹ ç»å…¸ç”¨ä¾‹ï¼šå›¾åƒåˆ†ç±»ã€‚</p>
<p>è¯¥æ¡ˆä¾‹æ¼”ç¤ºäº†å¦‚ä½•åœ¨ml5.jsä¸­ä½¿ç”¨MobileNetçš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œä»¥åŠè®¾ç½®ml5.jsçš„é¡¹ç›®ã€‚</p>
<p>è¦è®¾ç½®ä¸€ä¸ªç®€å•çš„ml5.jsçš„é¡¹ç›®å¹¶è¿è¡Œï¼Œä½ éœ€è¦ä½¿ç”¨ï¼š</p>
<blockquote>
<ul>
<li>ğŸ“ ä¸€æ¬¾æ–‡æœ¬ç¼–è¾‘å™¨ (e.g. <a target="_blank" rel="noopener" href="https://atom.io/">Atom</a>, <a target="_blank" rel="noopener" href="https://code.visualstudio.com/">VSCode</a>, <a target="_blank" rel="noopener" href="https://www.sublimetext.com/">Sublimetext</a>)</li>
<li>ğŸ’» ä½ çš„ç½‘é¡µæµè§ˆå™¨: æ¨èChrome &amp; Firefox</li>
<li>ğŸ–¼ è¿è¡Œåˆ†ç±»çš„å›¾ç‰‡</li>
</ul>
</blockquote>
<p>ä½ çš„é¡¹ç›®ç›®å½•çœ‹èµ·æ¥ä¼šæ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|_ &#x2F;hello-ml5</span><br><span class="line">  |_ ğŸ“‚&#x2F;images</span><br><span class="line">    |_ ğŸ–¼ bird.png</span><br><span class="line">  |_ ğŸ—’index.html</span><br><span class="line">  |_ ğŸ—’sketch.js</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼š</p>
<ul>
<li>Hello-ml5/ï¼šæ˜¯é¡¹ç›®æ–‡ä»¶çš„æ ¹<ul>
<li>images/ï¼šæ˜¯åŒ…å«ä½ çš„å›¾ç‰‡çš„æ–‡ä»¶å¤¹<ul>
<li>bird.pngï¼šæ˜¯ä¸€ä¸ªé¸Ÿç±»çš„pngå›¾åƒ</li>
</ul>
</li>
<li>index.htmlï¼šæ˜¯ä¸€ä¸ªhtmlæ–‡ä»¶ï¼ŒåŒ…å«htmlæ ‡è®°å’Œåº“çš„å¼•ç”¨</li>
<li>sketch.jsï¼šä½ æ­£åœ¨å†™çš„JavaScript</li>
</ul>
</li>
</ul>
<p>é¡¹ç›®çš„githubä»“åº“åœ¨<a target="_blank" rel="noopener" href="https://github.com/ml5js/ml5-library/tree/main/examples/javascript/ImageClassification/ImageClassification">è¿™é‡Œ</a>ã€‚</p>
<h4 id="ä½ çš„index-html"><a href="#ä½ çš„index-html" class="headerlink" title="ä½ çš„index.html"></a>ä½ çš„index.html</h4><p>åœ¨è¿™é‡Œä½ ä¼šå‘ç°æˆ‘ä»¬è¯»äº†JavaScriptåº“ï¼Œè¿™é‡ŒåŒ…å«äº†æˆ‘ä»¬çš„ml5.jså’Œps5.jsçš„ç‰ˆæœ¬ï¼Œä½ å¯ä»¥å¤åˆ¶ç²˜æ¥è¿›ä½ çš„index.htmlæ–‡ä»¶ï¼Œæˆ–è€…æ‰‹åŠ¨ä¹¦å†™ã€‚ç¡®è®¤ä¿å­˜ï¼Œå¹¶åœ¨å­˜å‚¨ä¹‹ååˆ·æ–°ä½ çš„æµè§ˆå™¨ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Image classification using MobileNet and p5.js<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/ml5@latest/dist/ml5.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Image classification using MobileNet and p5.js<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;sketch.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ä½ çš„sketch-js"><a href="#ä½ çš„sketch-js" class="headerlink" title="ä½ çš„sketch.js"></a>ä½ çš„sketch.js</h4><p>åœ¨ä½ çš„sketch.jsæ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥è¾“å…¥ä¸‹åˆ—çš„ä»£ç ã€‚æ³¨æ„åœ¨æ —å­ä¸­æˆ‘ä»¬æœ‰å¼•ç”¨â€images/bird.pngâ€ã€‚ä½ å¯ä»¥ç”¨è‡ªå·±çš„å›¾ç‰‡å–ä»£ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Initialize the image classifier method with MobileNet. A callback needs to be passed.</span></span><br><span class="line"><span class="keyword">let</span> classifier;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Avariable to hold the image we want to classify</span></span><br><span class="line"><span class="keyword">let</span> img;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">preload</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  classifier = ml5.imageClassifier(<span class="string">&#x27;MobileNet&#x27;</span>);</span><br><span class="line">  img = loadImage(<span class="string">&#x27;images/bird.png&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setup</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  createCanvas(<span class="number">400</span>, <span class="number">400</span>);</span><br><span class="line">  classifier.classify(img, gotResult);</span><br><span class="line">  image(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A function torun when we get any errors and the results</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gotResult</span>(<span class="params">error, results</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Display error in the console</span></span><br><span class="line">  <span class="keyword">if</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(error);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// The results are in an array ordered by confidence.</span></span><br><span class="line">    <span class="built_in">console</span>.log(results);</span><br><span class="line">    createDiv(<span class="string">&#x27;Label: $&#123;results[0].label&#125;&#x27;</span>);</span><br><span class="line">    createDiv(<span class="string">&#x27;Confidence: $(nf(results[0].confidence, 0, 2))&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="sketch-jsåœ¨å››æ­¥éª¤ä¸­è¢«è§£é‡Š"><a href="#sketch-jsåœ¨å››æ­¥éª¤ä¸­è¢«è§£é‡Š" class="headerlink" title="sketch.jsåœ¨å››æ­¥éª¤ä¸­è¢«è§£é‡Š"></a>sketch.jsåœ¨å››æ­¥éª¤ä¸­è¢«è§£é‡Š</h4><h5 id="Step-1-Define-your-variables"><a href="#Step-1-Define-your-variables" class="headerlink" title="Step 1: Define your variables"></a>Step 1: Define your variables</h5><p>è¿™é‡Œæ˜¯æˆ‘ä»¬å®šä¹‰äº†å˜é‡å¹¶ä¸”æ³¨å†Œæˆ‘ä»¬çš„åˆ†ç±»å™¨å’Œå›¾ç‰‡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Initialize the Image Classifier method with MobileNet. A callback needs to be passed.</span></span><br><span class="line"><span class="keyword">let</span> classifier;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A variable to hold the image we want to classify</span></span><br><span class="line"><span class="keyword">let</span> img;</span><br></pre></td></tr></table></figure>

<h5 id="Step-2-Load-your-imageClassifer-and-image"><a href="#Step-2-Load-your-imageClassifer-and-image" class="headerlink" title="Step 2: Load your imageClassifer and image"></a>Step 2: Load your imageClassifer and image</h5><p>ä½¿ç”¨p5çš„preload()å‡½æ•°ï¼Œè½½å…¥æˆ‘ä»¬çš„å›¾ç‰‡åˆ†ç±»å™¨æ¨¡å‹å’Œé¸Ÿç±»å›¾ç‰‡ï¼Œåœ¨æˆ‘ä»¬è¿è¡Œå…¶ä»–ä»£ç ä¹‹å‰ï¼›å› ä¸ºæœºå™¨å­¦ä¹ çš„æ¨¡å‹å¯èƒ½å¾ˆå¤§ï¼Œæ‰€ä»¥éœ€è¦ä¸€äº›æ—¶é—´å»åŠ è½½ï¼Œæˆ‘ä»¬ä½¿ç”¨preload()ï¼Œç¡®ä¿æˆ‘ä»¬çš„åˆ†ç±»å™¨åœ¨è¿›å…¥åˆ°ä¸‹ä¸€æ­¥éª¤ä¹‹å‰å°±å‡†å¤‡å¥½äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">preload</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  classifier = ml5.imageCLASSIFIER(<span class="string">&#x27;MobileNet&#x27;</span>);</span><br><span class="line">  img = loadImage(<span class="string">&#x27;images/bird.png&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Step-3-Setup-classify-and-display"><a href="#Step-3-Setup-classify-and-display" class="headerlink" title="Step 3: Setup, classify, and display"></a>Step 3: Setup, classify, and display</h5><p>åœ¨p5.jsä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨setup()å‡½æ•°æ¥è¿è¡Œé¡¹ç›®æ‰€æœ‰çš„å‡½æ•°ä¸€æ¬¡ã€‚åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨setup()å‡½æ•°ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªcanvasæ¥æ¸²æŸ“æˆ‘ä»¬çš„å›¾ç‰‡</li>
<li>å”¤èµ·classifierçš„.classify()å‡½æ•°ï¼Œæ¥å¯¹å›¾ç‰‡åˆ†ç±»</li>
<li>å°†å›¾ç‰‡æ¸²æŸ“åˆ°canvasä¸­å»</li>
</ol>
<p>ä½ ä¼šæ³¨æ„åˆ°.classify()å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š1.ä½ æƒ³è¦åˆ†ç±»çš„å›¾ç‰‡ï¼Œ2.ä¸€ä¸ªgotResultå›è°ƒå‡½æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setup</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  createCanvas(<span class="number">400</span>, <span class="number">400</span>);</span><br><span class="line">  classifier.classify(img, gotResult);</span><br><span class="line">  image(img, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Step-4-å®šä¹‰gotResult-å›è°ƒå‡½æ•°"><a href="#Step-4-å®šä¹‰gotResult-å›è°ƒå‡½æ•°" class="headerlink" title="Step 4: å®šä¹‰gotResult()å›è°ƒå‡½æ•°"></a>Step 4: å®šä¹‰gotResult()å›è°ƒå‡½æ•°</h5><p>gotResult()å‡½æ•°ä¹Ÿæœ‰ä¸¤ä¸ªå‚æ•°ï¼š1.errorï¼Œ 2.resultsã€‚å½“.classify()å‡½æ•°å®Œæˆå›¾ç‰‡çš„åˆ†ç±»ä¹‹åï¼Œä¼šæŠŠå‚æ•°ä¼ é€’ç»™gotResult()ã€‚å¦‚æœæœ‰ä¸€ä¸ªé”™è¯¯ï¼Œé”™è¯¯ä¼šè¢«loggedã€‚å¦‚æœæˆ‘ä»¬çš„åˆ†ç±»å™¨ç®¡ç†è¾¨åˆ«åˆ°å›¾ç‰‡çš„å†…å®¹ï¼Œresultåˆ™ä¼šè¢«è¿”å›ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªdivå±•ç¤ºæ ‡ç­¾å’Œåˆ†ç±»ç»“æœçš„ç½®ä¿¡åº¦ï¼Œnf()å‡½æ•°æ˜¯ä¸€ä¸ªp5çš„å‡½æ•°ï¼Œæ ¼å¼åŒ–æˆ‘ä»¬çš„æ•°å­—ä¸ºå­—ç¬¦ä¸²ã€‚</p>
<h4 id="And-voila"><a href="#And-voila" class="headerlink" title="And voilÃ !"></a>And voilÃ !</h4><p>ä½ å·²ç»åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„æœºå™¨å­¦ä¹ é¡¹ç›®ï¼š</p>
<p>1.æ‹¿å‡ºä¸€å¼ å›¾ç‰‡</p>
<p>2.åˆ†ç±»å›¾ç‰‡çš„å†…å®¹</p>
<p>3.åœ¨ç½‘é¡µæµè§ˆå™¨ä¸­å±•ç¤ºä½ çš„ç»“æœã€‚</p>
<p>æˆ‘ä»¬ä¸æ˜¯æ‰€æœ‰çš„æ¡ˆä¾‹éƒ½åƒæœ¬æ¡ˆä¾‹ä¸€æ ·ç»“æ„æ°¢æ°”ï¼Œä½†æ˜¯è¿™ä¸ªå¯ä»¥è®©ä½ å¿«é€Ÿæ¥è§¦ml5.jsæ˜¯å¦‚ä½•è®©æœºå™¨å­¦ä¹ æ›´æ˜“äºä¸Šæ‰‹ï¼Œä½ å¯ä»¥å°è¯•ä¸åŒçš„å›¾ç‰‡ç„¶åçœ‹ä»–ä»¬è¿”å›çš„ç»“æœæ˜¯ä»€ä¹ˆã€‚</p>
<h3 id="ml5çš„Promises-and-Callbackæ”¯æŒ"><a href="#ml5çš„Promises-and-Callbackæ”¯æŒ" class="headerlink" title="ml5çš„Promises and Callbackæ”¯æŒ"></a>ml5çš„Promises and Callbackæ”¯æŒ</h3><p>ml5.jså—åˆ°p5.jsçš„è¯­æ³•é£æ ¼å¯å‘ï¼Œml5.jsåœ¨æ‰€æœ‰çš„æ–¹æ³•ä¸­éƒ½æ”¯æŒé”™è¯¯çš„ä¼˜å…ˆcallbackå’ŒPromiseã€‚</p>
<h5 id="ä½¿ç”¨callback"><a href="#ä½¿ç”¨callback" class="headerlink" title="ä½¿ç”¨callback"></a>ä½¿ç”¨callback</h5><p>åœ¨p5.jsä¸­ï¼Œå›è°ƒåº§ä½å‚æ•°ä¼ é€’ç»™ç»å¸¸æ‰§è¡Œä¸€äº›å¼‚æ­¥æ“ä½œçš„å‡½æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œp5.jså®šä¹‰çš„loadJSON()å‡½æ•°å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">loadJSON(<span class="string">&#x27;https://example.com/data.json&#x27;</span>, <span class="function">(<span class="params">results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// Do something with the results</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>p5.jså›è°ƒçš„ç»“æœä½œä¸ºå‡½æ•°çš„å”¯ä¸€å‚æ•°ç»™å‡ºï¼Œä¸ä¼šæœ‰æŠ¥é”™å‚æ•°ã€‚</p>
<p>è€Œml5.jsä½¿ç”¨é”™è¯¯ä¼˜å…ˆå›è°ƒçš„æ¨¡å¼ï¼š</p>
<blockquote>
<p>ä½¿ç”¨è¿™ç§æ¨¡å¼ï¼Œå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•ï¼Œå½“æ“ä½œå®Œæˆæˆ–å¼•å‘é”™è¯¯æ—¶ï¼Œå°†è°ƒç”¨å›è°ƒå‡½æ•°ï¼Œå°†errorå¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ã€‚å¦‚æœæœªå¼•å‘é”™è¯¯ï¼Œåˆ™ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºnullä¼ é€’ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨imageClassifier()æ–¹æ³•ï¼Œåˆ™éœ€è¦æŒ‰ç…§ä»¥ä¸‹æ–¹å¼æ„é€ å‡½æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Pass a callback function to constructor</span></span><br><span class="line"><span class="comment">// å°†ä¸€ä¸ªå›è°ƒå‡½æ•°ä¼ é€’ç»™æ„é€ å™¨</span></span><br><span class="line"><span class="keyword">const</span> classifier = ml5.imageClassifier(<span class="string">&#x27;MobileNet&#x27;</span>, <span class="function">(<span class="params">err, model</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Model Loaded!&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make a prediction with the selected image and pass a callback function with two argumetns</span></span><br><span class="line"><span class="comment">// é€šè¿‡é€‰æ‹©çš„å›¾ç‰‡è¿›è¡Œé¢„æµ‹ï¼Œç„¶åä¼ é€’å¸¦æœ‰ä¸¤ä¸ªå‚æ•°çš„å›è°ƒå‡½æ•°</span></span><br><span class="line">classifier.predict(image, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// Check for errors. If no errors, then do something with the results</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="ä½¿ç”¨Promise"><a href="#ä½¿ç”¨Promise" class="headerlink" title="ä½¿ç”¨Promise"></a>ä½¿ç”¨Promise</h5><p>ml5.jsä¹Ÿæ”¯æŒPromisesï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•å¼‚æ­¥å‡½æ•°æä¾›å›è°ƒï¼Œåˆ™è¿”å›ä¸€ä¸ªPromiseã€‚</p>
<p>ä½¿ç”¨Promisesï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼ä½¿ç”¨å›¾åƒåˆ†ç±»ç¤ºä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// No callback needs to be passed to use Promises.</span></span><br><span class="line">ml5</span><br><span class="line">	.imageClassifier(<span class="string">&#x27;MobileNet&#x27;</span>)</span><br><span class="line">	.then(<span class="function"><span class="params">classifier</span> =&gt;</span> classifier.predict(image))</span><br><span class="line">	.then(results) =&gt; &#123;</span><br><span class="line">  <span class="comment">// Do something with the results</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h3 id="Neural-Network"><a href="#Neural-Network" class="headerlink" title="Neural Network"></a>Neural Network</h3><p>å¯ä»¥ä½¿ç”¨<code>ml5.neuralNetwork</code>åˆ›å»ºè‡ªå·±çš„ç¥ç»ç½‘ç»œï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚æ”¶é›†æ•°æ®è®­ç»ƒç¥ç»ç½‘ç»œæˆ–è€…ä½¿ç”¨å·²æœ‰çš„æ•°æ®è¿›è¡Œè®­ç»ƒã€‚è®­ç»ƒå®Œæˆåï¼Œä½ çš„ç¥ç»ç½‘ç»œå°±å¯ä»¥æ‰§è¡Œ<code>classification</code>å’Œ<code>regression</code>çš„ä»»åŠ¡ã€‚</p>
<p>ä¸€èˆ¬è€Œè¨€ï¼Œä½¿ç”¨<code>ml5.neuralnetwork</code>éœ€è¦è¿™äº›æ­¥éª¤ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šåŠ è½½æ•°æ®æˆ–åˆ›å»ºä¸€äº›æ•°æ®</li>
<li>ç¬¬äºŒæ­¥ï¼šè®¾ç½®ç¥ç»ç½‘ç»œå¹¶åˆå§‹åŒ–</li>
<li>ç¬¬ä¸‰æ­¥ï¼šä¸ºç¥ç»ç½‘ç»œæ·»åŠ æ•°æ®</li>
<li>ç¬¬å››æ­¥ï¼šè§„èŒƒåŒ–æ•°æ®</li>
<li>ç¬¬äº”æ­¥ï¼šè®­ç»ƒç¥ç»ç½‘ç»œ</li>
<li>ç¬¬å…­æ­¥ï¼šä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œåˆ†ç±»</li>
<li>ç¬¬ä¸ƒæ­¥ï¼šå¯¹ç»“æœè¿›è¡Œä½¿ç”¨</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥ä»ä¸‹é¢çš„ä¸€ä¸ªä¾‹å­æ¥è¿›è¡Œå®é™…çš„äº†è§£ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Step 1: load data or create some data</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = [  </span><br><span class="line">  &#123;<span class="attr">r</span>:<span class="number">255</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">b</span>:<span class="number">0</span>, <span class="attr">color</span>:<span class="string">&#x27;red-ish&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">r</span>:<span class="number">254</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">b</span>:<span class="number">0</span>, <span class="attr">color</span>:<span class="string">&#x27;red-ish&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">r</span>:<span class="number">253</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">b</span>:<span class="number">0</span>, <span class="attr">color</span>:<span class="string">&#x27;red-ish&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">r</span>:<span class="number">0</span>, <span class="attr">g</span>:<span class="number">255</span>, <span class="attr">b</span>:<span class="number">0</span>, <span class="attr">color</span>:<span class="string">&#x27;green-ish&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">r</span>:<span class="number">0</span>, <span class="attr">g</span>:<span class="number">254</span>, <span class="attr">b</span>:<span class="number">0</span>, <span class="attr">color</span>:<span class="string">&#x27;green-ish&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">r</span>:<span class="number">0</span>, <span class="attr">g</span>:<span class="number">253</span>, <span class="attr">b</span>:<span class="number">0</span>, <span class="attr">color</span>:<span class="string">&#x27;green-ish&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">r</span>:<span class="number">0</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">b</span>:<span class="number">255</span>, <span class="attr">color</span>:<span class="string">&#x27;blue-ish&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">r</span>:<span class="number">0</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">b</span>:<span class="number">254</span>, <span class="attr">color</span>:<span class="string">&#x27;blue-ish&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">r</span>:<span class="number">0</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">b</span>:<span class="number">253</span>, <span class="attr">color</span>:<span class="string">&#x27;blue-ish&#x27;</span>&#125;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 2: set your neural network options</span></span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  task: <span class="string">&#x27;classification&#x27;</span>,</span><br><span class="line">  debug: <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 3: initialize your neural network</span></span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 4: add data to the neural network</span></span><br><span class="line">data.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> inputs = &#123;</span><br><span class="line">    r: item.r,</span><br><span class="line">    g: item.g,</span><br><span class="line">    b: item.b</span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> output = &#123;</span><br><span class="line">    color: item.color</span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  nn.addData(inputs, output);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 5: normalize your data;</span></span><br><span class="line">nn.normalizeData();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 6: train your neural network</span></span><br><span class="line"><span class="keyword">const</span> trainingOptions = &#123;</span><br><span class="line">  epochs: <span class="number">32</span>,</span><br><span class="line">  batchSize: <span class="number">12</span></span><br><span class="line">&#125;</span><br><span class="line">nn.train(trainingOptions, finishedTraining);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 7: use the trained model</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">finishedTraining</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  classify();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 8: make a classification</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">classify</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> input = &#123;</span><br><span class="line">    r: <span class="number">255</span>,</span><br><span class="line">    g: <span class="number">0</span>,</span><br><span class="line">    b: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  nn.classify(input, handleResults);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 9: define a function to handle the results of your classification</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleResults</span>(<span class="params">error, result</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">if</span>(<span class="params">error</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(error);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(result); <span class="comment">// &#123;label: &#x27;red&#x27;, confidence: 0.8&#125;;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è½½å…¥ç°æœ‰æ•°æ®"><a href="#è½½å…¥ç°æœ‰æ•°æ®" class="headerlink" title="è½½å…¥ç°æœ‰æ•°æ®"></a>è½½å…¥ç°æœ‰æ•°æ®</h5><p>å¤–éƒ¨æ•°æ®ï¼š<code>&quot;data/colorData.json&quot;</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;<span class="string">&quot;r&quot;</span>:<span class="number">255</span>, <span class="string">&quot;g&quot;</span>:<span class="number">0</span>, <span class="string">&quot;b&quot;</span>:<span class="number">0</span>, <span class="string">&quot;color&quot;</span>: <span class="string">&quot;red-ish&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;r&quot;</span>:<span class="number">254</span>, <span class="string">&quot;g&quot;</span>:<span class="number">0</span>, <span class="string">&quot;b&quot;</span>:<span class="number">0</span>, <span class="string">&quot;color&quot;</span>: <span class="string">&quot;red-ish&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;r&quot;</span>:<span class="number">253</span>, <span class="string">&quot;g&quot;</span>:<span class="number">0</span>, <span class="string">&quot;b&quot;</span>:<span class="number">0</span>, <span class="string">&quot;color&quot;</span>: <span class="string">&quot;red-ish&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;r&quot;</span>:<span class="number">0</span>,   <span class="string">&quot;g&quot;</span>:<span class="number">0</span>, <span class="string">&quot;b&quot;</span>:<span class="number">255</span>, <span class="string">&quot;color&quot;</span>: <span class="string">&quot;blue-ish&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;r&quot;</span>:<span class="number">0</span>,   <span class="string">&quot;g&quot;</span>:<span class="number">0</span>, <span class="string">&quot;b&quot;</span>:<span class="number">254</span>, <span class="string">&quot;color&quot;</span>: <span class="string">&quot;blue-ish&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;r&quot;</span>:<span class="number">0</span>,   <span class="string">&quot;g&quot;</span>:<span class="number">0</span>, <span class="string">&quot;b&quot;</span>:<span class="number">253</span>, <span class="string">&quot;color&quot;</span>: <span class="string">&quot;blue-ish&quot;</span>&#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>åœ¨JavaScriptä¸­ï¼š<code>script.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Step 1: set your neural network options</span></span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  dataUrl: <span class="string">&quot;data/colorData.json&quot;</span>,</span><br><span class="line">  task: <span class="string">&#x27;classification&#x27;</span>,</span><br><span class="line">  debug: <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 2: initialize your neural network</span></span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options, dataLoaded);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 3: normalize data and train the model</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dataLoaded</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  nn.normalizeData();</span><br><span class="line">  trainModel();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 4:  train the model</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trainModel</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> trainingOptions = &#123;</span><br><span class="line">    epochs: <span class="number">32</span>,</span><br><span class="line">    batchSize: <span class="number">12</span></span><br><span class="line">  &#125;</span><br><span class="line">  nn.train(trainingOptions, finishedTraining);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 5: use the trained model</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">finishedTraining</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  classify();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 6: make a classification</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">classify</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> input = &#123;</span><br><span class="line">    r: <span class="number">255</span>,</span><br><span class="line">    g: <span class="number">0</span>,</span><br><span class="line">    b: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  nn.classify(input, handleResults);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 7: define a function to handle the results of your classification</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleResults</span>(<span class="params">error, result</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">if</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>. error(error);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(result); <span class="comment">// &#123;label: &#x27;red&#x27;, confidence: 0.8&#125;;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="ç”¨ä¾‹å‚è€ƒ"><a href="#ç”¨ä¾‹å‚è€ƒ" class="headerlink" title="ç”¨ä¾‹å‚è€ƒ"></a>ç”¨ä¾‹å‚è€ƒ</h5><p>ä¸‹é¢åˆ—ä¸¾ä¸€äº›å‚è€ƒçš„ç”¨é€”ï¼š</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  inputs: <span class="number">1</span>,</span><br><span class="line">  outputs: <span class="number">1</span>,</span><br><span class="line">  task: <span class="string">&#x27;regression&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼šå°†æ•°æ®åŠ è½½ä¸ºcsv</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  dataUrl: <span class="string">&#x27;weather.csv&#x27;</span>,</span><br><span class="line">  inputs: [<span class="string">&#x27;avg_temperature&#x27;</span>, <span class="string">&#x27;humidity&#x27;</span>],</span><br><span class="line">  outputs: [<span class="string">&#x27;rained&#x27;</span>],</span><br><span class="line">  task: <span class="string">&#x27;classification&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options, modelLoaded)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä¸‰ï¼šå°†æ•°æ®åŠ è½½ä¸ºjson</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">The weather json looks something like:</span></span><br><span class="line"><span class="comment">&#123;&quot;data&quot;: [</span></span><br><span class="line"><span class="comment">  &#123;&quot;xs&quot;: &#123;&quot;avg_temperature&quot;:20, &quot;humidity&quot;: 0.2&#125;, &quot;ys&quot;: &#123;&quot;rained&quot;: &quot;no&quot;&#125;&#125;,</span></span><br><span class="line"><span class="comment">  &#123;&quot;xs&quot;: &#123;&quot;avg_temperature&quot;:30, &quot;humidity&quot;: 0.9&#125;, &quot;ys&quot;: &#123;&quot;rained&quot;: &quot;yes&quot;&#125;&#125;</span></span><br><span class="line"><span class="comment">] &#125;</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  dataUrl: <span class="string">&#x27;weather.json&#x27;</span>,</span><br><span class="line">  inputs: [<span class="string">&#x27;avg_temperature&#x27;</span>, <span class="string">&#x27;humidity&#x27;</span>],</span><br><span class="line">  outputs: [<span class="string">&#x27;rained&#x27;</span>],</span><br><span class="line">  task: <span class="string">&#x27;classification&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options, modelLoaded)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹å››ï¼šä¸ºç©ºç™½çš„ç¥ç»ç½‘ç»œæŒ‡å®šæ ‡ç­¾</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  inputs: [<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>],</span><br><span class="line">  outputs: [<span class="string">&#x27;label&#x27;</span>],</span><br><span class="line">  task: <span class="string">&#x27;classification&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options);</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äº”ï¼šé€šè¿‡è®¾ç½®<code>task: imageClassification</code>æ¥åˆ›å»ºå›¾åƒåˆ†ç±»çš„ç¥ç»ç½‘ç»œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> IMAGE_WIDTH = <span class="number">64</span>;</span><br><span class="line"><span class="keyword">const</span> IMAGE_HEIGHT = <span class="number">64</span>;</span><br><span class="line"><span class="keyword">const</span> IMGAE_CHANNELS = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  task: <span class="string">&#x27;imageClassificaton&#x27;</span>,</span><br><span class="line">  inputs: [IMAGE_WIDTH, IMAGE_HEIGHT, IMAGE_CHANNELS],</span><br><span class="line">  outputs: [<span class="string">&#x27;label&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> nn = ml5. neuralNetwork(options);</span><br></pre></td></tr></table></figure>

<h3 id="åˆå§‹åŒ–å’Œå‚æ•°"><a href="#åˆå§‹åŒ–å’Œå‚æ•°" class="headerlink" title="åˆå§‹åŒ–å’Œå‚æ•°"></a>åˆå§‹åŒ–å’Œå‚æ•°</h3><p>æœ‰å¤šç§æ–¹æ³•å¯ä»¥å‡ºå®è¯<code>ml5.neuralNetwork</code>ã€‚ä¸‹é¢æˆ‘ä»¬ä»‹ç»å‡ ä¸ªä¾‹å­ï¼š</p>
<p>1.æœ€å°é…ç½®æ–¹æ³•</p>
<p>2.å°†è¾“å…¥å’Œè¾“å‡ºçš„æ ‡ç­¾å®šä¹‰ä¸ºæ•°å­—æˆ–æ ‡ç­¾æ•°ç»„</p>
<p>3.åŠ è½½å¤–éƒ¨æ•°æ®</p>
<p>4.åŠ è½½é¢„è®­ç»ƒæ¨¡å‹</p>
<p>5.ç”¨äºå›¾åƒåˆ†ç±»ä»»åŠ¡çš„å·ç§¯ç¥ç»ç½‘ç»œ</p>
<p>6.å®šä¹‰è‡ªå®šä¹‰å±‚</p>
<h5 id="æœ€å°é…ç½®æ–¹æ³•"><a href="#æœ€å°é…ç½®æ–¹æ³•" class="headerlink" title="æœ€å°é…ç½®æ–¹æ³•"></a>æœ€å°é…ç½®æ–¹æ³•</h5><p>å¦‚æœä½ æ‰“ç®—åˆ›å»ºå®æ—¶æ•°æ®ï¼Œä½ å¯ä»¥åªè®¾ç½®æƒ³è¦å®Œæˆçš„ä»»åŠ¡ç±»å‹ï¼Œ<code>(&#39;regression&#39; | &#39;classification&#39;)</code>ç„¶ååˆ›å»ºç¥ç»ç½‘ç»œï¼Œåœ¨æ·»åŠ æ•°æ®åï¼Œml5æ‰ä¼šæ ¹æ®æ·»åŠ çš„æ•°æ®è¿›è¡Œè¾“å…¥å’Œè¾“å‡ºã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">task: <span class="string">&#x27;regression&#x27;</span> <span class="comment">// or &#x27;classification&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options)</span><br></pre></td></tr></table></figure>

<h5 id="å°†è¾“å…¥å’Œè¾“å‡ºæ ‡ç­¾å®šä¹‰ä¸ºæ•°å­—æˆ–æ ‡ç­¾æ•°ç»„"><a href="#å°†è¾“å…¥å’Œè¾“å‡ºæ ‡ç­¾å®šä¹‰ä¸ºæ•°å­—æˆ–æ ‡ç­¾æ•°ç»„" class="headerlink" title="å°†è¾“å…¥å’Œè¾“å‡ºæ ‡ç­¾å®šä¹‰ä¸ºæ•°å­—æˆ–æ ‡ç­¾æ•°ç»„"></a>å°†è¾“å…¥å’Œè¾“å‡ºæ ‡ç­¾å®šä¹‰ä¸ºæ•°å­—æˆ–æ ‡ç­¾æ•°ç»„</h5><p>ä¸ºäº†æ›´å…·ä½“åœ°å¤„ç†è¾“å…¥å’Œè¾“å‡ºå†…å®¹ï¼Œä½ è¿˜å¯ä»¥å°†è¾“å…¥å’Œè¾“å‡ºçš„æ ‡ç­¾åç§°å®šä¸ºæ•°ç»„ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„æ•°é‡ã€‚å¦‚æœå°†è¾“å…¥è®¾ç½®ä¸ºJSONï¼Œåˆ™JSONçš„å¯†é’¥å’Œæ•°ç»„åº”ä¸<code>options</code>çš„åŒ¹é…ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  task: <span class="string">&#x27;classification&#x27;</span> <span class="comment">// or &#x27;regression&#x27;</span></span><br><span class="line">  inputs: [<span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;b&#x27;</span>]</span><br><span class="line">  outputs: [<span class="string">&#x27;color&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options)</span><br></pre></td></tr></table></figure>

<h5 id="åŠ è½½å¤–éƒ¨æ•°æ®"><a href="#åŠ è½½å¤–éƒ¨æ•°æ®" class="headerlink" title="åŠ è½½å¤–éƒ¨æ•°æ®"></a>åŠ è½½å¤–éƒ¨æ•°æ®</h5><p>ä½ å¯ä»¥åˆå§‹åŒ–<code>ml5.neuralNetwork</code>æŒ‡å®šå¤–éƒ¨urlåˆ°ä¸€äº›ç»“æ„ä¸ºJSONæˆ–CSVæ–‡ä»¶çš„æ•°æ®ã€‚å¦‚æœå°†æ•°æ®ä½œä¸ºoptionsçš„ä¸€éƒ¨åˆ†ä¼ å…¥ï¼Œéœ€è¦æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†åœ¨æ•°æ®åŠ è½½å®Œæˆåè¢«è°ƒç”¨ã€‚æ­¤å¤–ï¼Œä½ éœ€è¦æŒ‡å®š<code>ml5.neuralNetwork</code>ä¸­å“ªäº›å±æ€§æ˜¯è¾“å…¥å’Œè¾“å‡ºã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  dataUrl: <span class="string">&#x27;data/colorData.csv&#x27;</span></span><br><span class="line">  task: <span class="string">&#x27;classification&#x27;</span> <span class="comment">// or &#x27;regression&#x27;</span></span><br><span class="line">  intputs: [<span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;b&#x27;</span>]	<span class="comment">// r, g, b</span></span><br><span class="line">  outputs: [<span class="string">&#x27;color&#x27;</span>]	<span class="comment">// red-ish, blue-ish</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options, dataLoaded)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dataLoaded</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// continue on your neural network journey</span></span><br><span class="line">  nn.normalizeData();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="åŠ è½½é¢„è®­ç»ƒæ¨¡å‹"><a href="#åŠ è½½é¢„è®­ç»ƒæ¨¡å‹" class="headerlink" title="åŠ è½½é¢„è®­ç»ƒæ¨¡å‹"></a>åŠ è½½é¢„è®­ç»ƒæ¨¡å‹</h5><p>å¦‚æœå·²ç»ä½¿ç”¨äº†<code>ml5.neuralNetwork</code>è®­ç»ƒæ¨¡å‹ï¼Œä½¿ç”¨<code>ml5.neuralNetwork.save()</code>å¯ä»¥ä¿å­˜ï¼Œç„¶ååŠ è½½è‡ªå·±çš„æ¨¡å‹ï¼Œæƒé‡ï¼Œå’Œå…ƒæ•°æ®ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  task: <span class="string">&#x27;classification&#x27;</span> <span class="comment">// or &#x27;regression&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> modelDetails = &#123;</span><br><span class="line">  model: <span class="string">&#x27;model/model.json&#x27;</span>,</span><br><span class="line">  metadata: <span class="string">&#x27;model/model_meta.json&#x27;</span>,</span><br><span class="line">  weights: <span class="string">&#x27;model/model.weights.bin&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">nn.load(modelDetails, modelLoaded)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">modelLoaded</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// continue on your neural network journey</span></span><br><span class="line">  <span class="comment">// use nn.classify() for classifications or nn.predict() for regression</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç”¨äºå›¾åƒåˆ†ç±»çš„â€™â€™å·ç§¯ç¥ç»ç½‘ç»œ"><a href="#ç”¨äºå›¾åƒåˆ†ç±»çš„â€™â€™å·ç§¯ç¥ç»ç½‘ç»œ" class="headerlink" title="ç”¨äºå›¾åƒåˆ†ç±»çš„â€™â€™å·ç§¯ç¥ç»ç½‘ç»œ"></a>ç”¨äºå›¾åƒåˆ†ç±»çš„â€™â€™å·ç§¯ç¥ç»ç½‘ç»œ</h3><p>å¯ä»¥é€šè¿‡è®¾ç½®<code>task:&quot;imageClassification </code>æ¥å®Œæˆã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> IMAGE_WIDTH = <span class="number">64</span>;</span><br><span class="line"><span class="keyword">const</span> IMAGE_HEIGHT = <span class="number">64</span>;</span><br><span class="line"><span class="keyword">const</span> IMAGE_CHANNELS = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  task: <span class="string">&#x27;imageClassification&#x27;</span>,</span><br><span class="line">  inputs: [IMAGE_WIDTH, IMAGE_HEIGHT, IMAGE_CHANNELS],</span><br><span class="line">  outputs: [<span class="string">&#x27;label&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options);</span><br></pre></td></tr></table></figure>

<h5 id="å®šä¹‰è‡ªå®šä¹‰å±‚"><a href="#å®šä¹‰è‡ªå®šä¹‰å±‚" class="headerlink" title="å®šä¹‰è‡ªå®šä¹‰å±‚"></a>å®šä¹‰è‡ªå®šä¹‰å±‚</h5><p>é»˜è®¤ç»“æ„ï¼Œ<code>ml5.neuralNetwork</code>æœ‰<code>classification</code>, <code>regression</code>å’Œ<code>imageClassification</code>çš„ç®€å•ç»“æ„ã€‚</p>
<p><code>classification</code>å±‚:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">layers:[</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">&#x27;dense&#x27;</span>,</span><br><span class="line">    units: <span class="built_in">this</span>.options.hiddenUnits,</span><br><span class="line">    activations: <span class="string">&#x27;relu&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">&#x27;dense&#x27;</span>,</span><br><span class="line">    activation: <span class="string">&#x27;softmax&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p><code>regression</code>å±‚:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">layers: [</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">&#x27;dense&#x27;</span>,</span><br><span class="line">    units: <span class="built_in">this</span>.options.hiddenUnits,</span><br><span class="line">    activation: <span class="string">&#x27;relu&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">&#x27;dense&#x27;</span>,</span><br><span class="line">    activation: <span class="string">&#x27;sigmoid&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p><code>imageClassification</code>å±‚:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">layers = [</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">&#x27;conv2d&#x27;</span>,</span><br><span class="line">    filters: <span class="number">8</span>,</span><br><span class="line">    kernelSize: <span class="number">5</span>,</span><br><span class="line">    strides: <span class="number">1</span>,</span><br><span class="line">    activation: <span class="string">&#x27;relu&#x27;</span>,</span><br><span class="line">    kernelInitializer: <span class="string">&#x27;varianceScaling&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">&#x27;maxPolling2d&#x27;</span>,</span><br><span class="line">    poolSize: [<span class="number">2</span>, <span class="number">2</span>],</span><br><span class="line">    strides: [<span class="number">2</span>, <span class="number">2</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">&#x27;conv2d&#x27;</span>,</span><br><span class="line">    filters: <span class="number">16</span>,</span><br><span class="line">    kernelSize: <span class="number">5</span>,</span><br><span class="line">    strides: <span class="number">1</span>,</span><br><span class="line">    activation: <span class="string">&#x27;relu&#x27;</span>,</span><br><span class="line">    kernelInitializer: <span class="string">&#x27;variancescaling&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">&#x27;flatten&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">&#x27;dense&#x27;</span>,</span><br><span class="line">    kernelInitializer: <span class="string">&#x27;varianceScaling&#x27;</span>,</span><br><span class="line">    activation: <span class="string">&#x27;softmax&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰è‡ªå®šä¹‰å±‚: åœ¨<code>options</code> ä¸­å®šä¹‰ï¼Œå¹¶ä¼ é€’ç»™<code>ml5.neuralNetwork</code>å®šä¹‰è‡ªå®šä¹‰çš„ç½‘ç»œç»“æ„ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ªå…·æœ‰3å±‚çš„ç¥ç»ç½‘ç»œã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  debug: <span class="literal">true</span>,</span><br><span class="line">  task: <span class="string">&#x27;classification&#x27;</span>,</span><br><span class="line">  layers: [</span><br><span class="line">    &#123;</span><br><span class="line">      type: <span class="string">&#x27;dense&#x27;</span>,</span><br><span class="line">      units: <span class="number">16</span>,</span><br><span class="line">      activation: <span class="string">&#x27;relu&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      type: <span class="string">&#x27;dense&#x27;</span>,</span><br><span class="line">      units: <span class="number">16</span>,</span><br><span class="line">      activation: <span class="string">&#x27;sigmoid&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      type: <span class="string">&#x27;dense&#x27;</span>,</span><br><span class="line">      activation: <span class="string">&#x27;sigmoid&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> nn = ml5.neuralNetwork(options);</span><br></pre></td></tr></table></figure>

<h4 id="ml5-neuralNetwork-options"><a href="#ml5-neuralNetwork-options" class="headerlink" title="ml5.neuralNetwork(options)"></a>ml5.neuralNetwork(options)</h4><p>å¯ä»¥æŒ‡å®šçš„optionsæœ‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> DEFAULTS = &#123;</span><br><span class="line">  inputs: [], <span class="comment">//can also be a number ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ•°å­—</span></span><br><span class="line">  outputs: [], <span class="comment">// can also be a number ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ•°å­—</span></span><br><span class="line">  dataUrl: <span class="literal">null</span>,</span><br><span class="line">  modelUrl: <span class="literal">null</span>,</span><br><span class="line">  layers: [], <span class="comment">// è‡ªå®šä¹‰å±‚</span></span><br><span class="line">  task: <span class="literal">null</span>, <span class="comment">// &#x27;classification&#x27;, &#x27;regression&#x27;, &#x27;imageClassification&#x27;</span></span><br><span class="line">  debug: <span class="literal">false</span>, <span class="comment">// determines whether or not to show the training visualization</span></span><br><span class="line">  learningRate: <span class="number">0.2</span>,</span><br><span class="line">  hiddenUnits: <span class="number">16</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h4><table>
<thead>
<tr>
<th>property</th>
<th>description</th>
<th>datatype</th>
</tr>
</thead>
<tbody><tr>
<td><code>.callback</code></td>
<td>the callback to be called after data is loaded on initialization</td>
<td><code>function</code></td>
</tr>
<tr>
<td><code>.options</code></td>
<td>the options for how the neuralNetwork should be configured on initialization</td>
<td><code>object</code></td>
</tr>
<tr>
<td><code>.neuralNetwork</code></td>
<td>the <code>neuralNetwork</code> class where all of the tensorflow.js model operations are organized</td>
<td><code>class</code></td>
</tr>
<tr>
<td><code>.neuralNetworkData</code></td>
<td>the <code>neuralNetworkData</code> class where all of the data handling operations are organized</td>
<td><code>class</code></td>
</tr>
<tr>
<td><code>.neuralNetworkVis</code></td>
<td>the <code>neuralNetworkVis</code> class where all of the tf-vis operations are organized</td>
<td><code>class</code></td>
</tr>
<tr>
<td><code>.data</code></td>
<td>The property that stores all of the training data after <code>.train()</code> is called</td>
<td><code>class</code></td>
</tr>
<tr>
<td><code>.ready</code></td>
<td>set to true if the model is loaded and ready, false if it is not.</td>
<td><code>boolean</code></td>
</tr>
</tbody></table>
<h4 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h4><table>
<thead>
<tr>
<th>method</th>
<th>description</th>
</tr>
</thead>
<tbody><tr>
<td><code>.addData()</code></td>
<td>adds data to the <code>neuralNetworkData.data.raw</code> array</td>
</tr>
<tr>
<td><code>.normalizeData()</code></td>
<td>normalizes the data stored in <code>neuralNetworkData.data.raw</code> and stores the normalized values in the <code>neuralNetwork.data.training</code> array</td>
</tr>
<tr>
<td><code>.train()</code></td>
<td>uses the data in the <code>neuralNetwork.data.training</code> array to train your model</td>
</tr>
<tr>
<td><code>.predict()</code></td>
<td>for regression tasks, allows you to make a prediction based on an input array or JSON object.</td>
</tr>
<tr>
<td><code>.predictMultiple()</code></td>
<td>for regression tasks, allows you to make a prediction based on an input array of arrays or array of JSON objects.</td>
</tr>
<tr>
<td><code>.classify()</code></td>
<td>for classification tasks, allows you to make a classification based on an input array or JSON object.</td>
</tr>
<tr>
<td><code>.classifyMultiple()</code></td>
<td>for classification tasks, allows you to make classifications based on an input array of arrays or array of JSON objects.</td>
</tr>
<tr>
<td><code>.saveData()</code></td>
<td>allows you to save your data out from the <code>neuralNetworkData.data.raw</code> array</td>
</tr>
<tr>
<td><code>.loadData()</code></td>
<td>allows you to load data previously saved from the <code>.saveData()</code> function</td>
</tr>
<tr>
<td><code>.save()</code></td>
<td>allows you to save the trained model</td>
</tr>
<tr>
<td><code>.load()</code></td>
<td>allows you to load a trained model</td>
</tr>
</tbody></table>
<h5 id="addData"><a href="#addData" class="headerlink" title=".addData()"></a>.addData()</h5><blockquote>
<p>å¦‚æœæ²¡æœ‰ä½¿ç”¨<code>dataUrl</code>ç»™æ„é€ å‡½æ•°æä¾›æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨<code>.addData()</code>å‡½æ•°å°†æ•°æ®æ·»åŠ åˆ°ç¥ç»ç½‘ç»œä¸­ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">neuralNetwork.addData(xs, ys);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>xs: å¿…è¦çš„ï¼Œæ•°ç»„æˆ–å¯¹è±¡</p>
<p>å¦‚æœç»™å‡ºäº†æ•°ç»„ï¼Œè¾“å…¥çš„æ•°æ®å¿…é¡»æŒ‰ç…§æ„é€ å‡½æ•°è¿›è¡Œæ’åºã€‚å°†æ•°æ®ä¼ é€’ç»™<code>.predict()</code>å’Œ<code>.classify()</code>ã€‚</p>
<p>å¦‚æœç»™å‡ºäº†å¯¹è±¡ï¼Œé‚£ä¹ˆéœ€è¦æ˜¯é”®å€¼å¯¹çš„å½¢å¼ã€‚</p>
<p>å¦‚æœ<code>task: imageClassification</code>: å¯ä»¥æä¾›HTMLImageElementæˆ–HTMLCanvasElementæˆ–åƒç´ çš„å¹³é¢ä¸€ç»´æ•°ç»„ï¼ŒåŒ¹é…<code>options.inputs: [IMAGE_WIDTH, IMAGE_HEIGHT, IMAGE_CHANNELS]</code></p>
</li>
<li><p>ys: å¿…è¦çš„ï¼Œæ•°ç»„æˆ–å¯¹è±¡</p>
<p>å¦‚æœæä¾›äº†æ•°ç»„ï¼Œåˆ™è¾“å…¥çš„æ•°æ®å¿…é¡»æŒ‰ç…§æ„é€ å‡½æ•°è¿›è¡Œæ’åºã€‚</p>
<p>å¦‚æœç»™å‡ºäº†å¯¹è±¡ï¼Œåˆ™éœ€è¦æ˜¯é”®å€¼å¯¹çš„å½¢å¼ã€‚</p>
</li>
</ul>

    </div>

    <div class="about">
        <h1>About this Post</h1>
        <p>This post is written by Siqi Shu, licensed under <a
                target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc/4.0">CC BY-NC 4.0</a>.</p>
    </div>
</article>
        <footer>
    <div class="inner">
        <div class="links">
            
            <div class="group">
                <h4 class="title">æ·±æ™ºä¸€ç‰© çœ¾éš±çš†è®Š</h4>
                
            </div>
            
        </div>
        &copy; 2024 Siqi Shu<br />
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
</footer>


        
<script src="/js/main.js"></script>

        
<script src="/js/kursor.js"></script>

        
<script src="/js/run.js"></script>


    </body>
</html>
